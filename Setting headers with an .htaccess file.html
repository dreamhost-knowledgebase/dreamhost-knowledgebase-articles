<h2>Creating an .htaccess file on your DreamHost web server</h2>
<div class="solvvy-solution">
<p>View the following article for instructions on how to create an .htaccess file on your web server:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216456227#Creating_an_.htaccess_file">Creating an .htaccess file on your DreamHost web server</a></li>
</ul>
<p>If the file already exists, view the following articles for instructions on how to update it (depending on if you're using an FTP client or SSH):</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000098272-Creating-and-editing-a-file-via-FTP">Creating and editing a file via FTP</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">Creating and editing a file via SSH</a></li>
</ul>
</div>
<h2>What are http headers?</h2>
<div class="solvvy-solution">
<p>HTTP headers are part of an HTTP request and response. They define the operating parameters of an HTTP transaction. View the following link for further details.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">List of HTTP header fields</a></li>
</ul>
<p>You can use an .htaccess file to adjust or add headers to your HTTP response headers.</p>
</div>
<h2><span id="Adding_a_content-type.3DUTF-8_header">Adding a content-type=UTF-8 header</span></h2>
<div class="solvvy-solution">
<p>Use either one of the following in an .htaccess file to force the specific content-type header. A <a href="https://www.w3.org/International/articles/http-charset/index">charset header</a> specifies the character encoding of the document. This adds the header without having to use a meta tag:</p>
<div class="preboxcontainer">
<pre class="prebox">AddDefaultCharset UTF-8   
AddDefaultCharset ISO-8859-1
</pre>
</div>
</div>
<h2><span id="Adding_a_language_header">Adding a language header</span></h2>
<div class="solvvy-solution">
<p>Use the following in an .htaccess file to specify a language header. This adds the header without having to use a meta tag:</p>
<div class="preboxcontainer">
<pre class="prebox">DefaultLanguage en-us</pre>
</div>
</div>
<h2>Cache-Control headers</h2>
<div class="solvvy-solution">
<p>One of the most common headers to add to a page is Cache-Control. This defines the amount of time a file should be cached.</p>
<p>For example, if the Cache-Control header is set to 5 minutes, a browser will download the file and cache it for five minutes. After 5 minutes has expired, the file will have to be retrieved again from the server.</p>
<h3>Example</h3>
<p>This example allows any visitor to cache the page for 5 minutes.</p>
<div class="preboxcontainer">
<pre class="prebox">Header set Cache-Control "max-age=300, public"</pre>
</div>
<h3>Syntax</h3>
<p><strong>max-age</strong> is set in seconds.</p>
<p>The caching directive is next. It can be 'public', 'private', or 'no-store'. Most often, you want to keep this as 'public' so it applies to all visitors.</p>
</div>
<h2>Using the 'Vary' HTTP header for mobile sites</h2>
<div class="solvvy-solution">
<p>View the following link from Google that explains in detail how to use the 'Vary' header for a mobile site:</p>
<ul>
<li><a href="https://developers.google.com/webmasters/mobile-sites/mobile-seo/dynamic-serving#the-vary-http-header">The Vary HTTP Header</a></li>
</ul>
</div>
<h2>Security</h2>
<div class="solvvy-solution">
<h3>Content-Security-Policy</h3>
<p>The Content-Security-Policy header helps reduce XSS risks. View the following page for further details:</p>
<ul>
<li><a href="https://content-security-policy.com/">https://content-security-policy.com/</a></li>
</ul>
<h3>Strict-Transport-Security (HSTS)</h3>
<p>Tells browsers to ONLY interact with the site using HTTPS and never HTTP. View the following pages for further details.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security">https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security</a></li>
<li><a href="https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet">https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet</a></li>
</ul>
<p>You can enable this in your .htaccess file with the following code:</p>
<div class="preboxcontainer">
<pre class="prebox">Header add Strict-Transport-Security "max-age=31415926;includeSubDomains;"</pre>
</div>
<p>You can then test if it's active by running the following curl command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">curl -I https://example.com</span>
HTTP/1.1 200 OK
Date: Tue, 05 Jun 2018 20:05:52 GMT
Server: Apache
Last-Modified: Tue, 05 Jun 2018 16:26:52 GMT
ETag: "2f9-56de78493cbc8"
Accept-Ranges: bytes
Content-Length: 761
<span class="green">Strict-Transport-Security: max-age=31415926;includeSubDomains;</span>
Content-Type: text/html
</pre>
</div>
<p>You should see the 'Strict-Transport-Security' header in the response.</p>
</div>
<h2>Enabling CORS</h2>
<div class="solvvy-solution">
<p><a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing">Cross Origin Resource Sharing</a> (CORS) allows restricted resources on a website to be requested from another domain outside the domain from which it was originally served. View the following pages for further details.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security">https://en.wikipedia.org/wiki/HTTP_Strict_Transport_Security</a></li>
<li><a href="https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet">https://www.owasp.org/index.php/HTTP_Strict_Transport_Security_Cheat_Sheet</a></li>
</ul>
<p>Adding the following to your .htaccess file will enable CORS.</p>
<div class="preboxcontainer">
<pre class="prebox">Header add Access-Control-Allow-Origin: "*"
Header add Access-Control-Allow-Methods: "GET,POST,OPTIONS,DELETE,PUT"
Header add Access-Control-Allow-Headers: "Content-Type"
</pre>
</div>
<p>You can then test if it's active on a site such as this:</p>
<ul>
<li><a href="https://tools.geekflare.com/tools/cors-test">tools.geekflare.com/tools/cors-test</a></li>
</ul>
<p>You can also use curl to test. Just substitute example.com with your website.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">curl -H "Origin: http://example.com" \
  -H "Access-Control-Request-Method: POST" \
  -H "Access-Control-Request-Headers: X-Requested-With" \
  -X OPTIONS --verbose \
  https://www.googleapis.com/discovery/v1/apis?fields=</span></pre>
</div>
</div>
<h2>X-Frame-Options</h2>
<div class="solvvy-solution">
<p>This header helps to protect your visitors against clickjacking attacks. You should add this header on pages that shouldn't be allowed to render a page within a frame.</p>
<div class="preboxcontainer">
<pre class="prebox"># X-Frame-Options
&lt;IfModule mod_headers.c&gt;
Header always append X-Frame-Options SAMEORIGIN
&lt;/IfModule&gt;</pre>
</div>
</div>
<h2>Cross-site Scripting protection (XSS)</h2>
<div class="solvvy-solution">
<p>This header helps to protect your visitors against Cross-site Scripting attacks. View the following article for further details:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection</a></li>
</ul>
<div class="preboxcontainer">
<pre class="prebox"># X-XSS-Protection
&lt;IfModule mod_headers.c&gt;
Header set X-XSS-Protection "1; mode=block"
&lt;/IfModule&gt;</pre>
</div>
</div>
<h2>X-Content-Type-Options</h2>
<div class="solvvy-solution">
<p>This header blocks content sniffing that could transform non-executable MIME types into executable MIME types. View the following article for further details:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options</a></li>
</ul>
</div>
<div class="solvvy-solution">
<div class="preboxcontainer">
<pre class="prebox">#X-Content-Type-Options
&lt;IfModule mod_headers.c&gt;
  Header set X-Content-Type-Options nosniff
&lt;/IfModule&gt;</pre>
</div>
</div>
<h2>Content-Security-Policy</h2>
<div class="solvvy-solution">
<p>This header specifies approved sources of content the browser is allowed to load. The example below tells the browser to only load content originating from the specified website over HTTPS.</p>
<p>If you're going to force the HTTPS rule, make sure you're already added an SSL certificate and are forcing all connections to use it.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215089118-Adding-an-SSL-certificate-overview" target="_self">Adding an SSL certificate overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115003505112-How-to-force-your-site-to-redirect-to-https-SSL-" target="_self">How to force your site to redirect to https (SSL)</a></li>
</ul>
<p>View the following article for further details:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP">developer.mozilla.org/en-US/docs/Web/HTTP/CSP</a></li>
</ul>
<div class="preboxcontainer">
<pre class="prebox">Header set Content-Security-Policy "default-src https://example.com:443"</pre>
</div>
</div>
<h2><span id="See_also">See also</span></h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216456227--htaccess-overview">.htaccess overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217738987-What-can-I-do-with-an-htaccess-file-">What can I do with an .htaccess file?</a></li>
</ul>
</div>
