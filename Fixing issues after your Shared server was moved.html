<p>DreamHost may need to make server changes from time to time in order to optimize the hosting environment and make it more robust and dependable.</p>
<p>This article gives you information on what exactly changes when a server moves and how to resolve any issues.</p>
<h2><span id="What_changes_when_a_server_moves.3F">What changes when a server moves?</span></h2>
<h3><span id="Server_name">Server name</span></h3>
<p>When your server is changed, the name of it also changes. Each shared server at DreamHost has a specific name.</p>
<p>Please review the <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">Finding your FTP server hostname</a> article for information on how to view the name of your web server.</p>
<p>Below are some things you should check prior to the move to ensure that things go as smoothly as possible:</p>
<ul>
<li>Make sure when you connect to your domain via FTP/SFTP/SSH, you use your domain as the hostname.</li>
<li>If your domain is example.com, you would enter exactly that as your hostname.</li>
<li>Do not add http:// to the URL.</li>
</ul>
<h3><span id="DNS_settings">DNS settings</span></h3>
<p>Here are a few steps to set up your DNS settings when a server moves:</p>
<ol>
<li>Review the email that is sent to you once the server migration has completed – your new server is listed in the Subject line.</li>
<li>If you are not using DreamHost’s <a href="/hc/en-us/articles/215769408-What-are-DreamHost-s-nameservers-">nameservers</a>, update your IP address once the server is migrated.
<dl>
<dd><em>If your IP continues to point to the old server IP, your site will not function.</em></dd>
</dl>
</li>
<li>View the <a href="/hc/en-us/articles/215413857-DreamHost-DNS-overview">DNS</a> article for information on how to find the correct IP address of your site.</li>
<li>If necessary, update the correct IP of your site at the company that hosts your nameservers.</li>
</ol>
<p>Keep in mind, Unique IPs will change as well since DreamHost does not offer <a href="/hc/en-us/articles/216109647-Unique-IP-overview">static IP addresses</a>.</p>
<h2><span id="Fixing_issues_after_the_move">Fixing issues after the move</span></h2>
<p>After the migration completes, you may notice errors with your site or you may find it’s not responding as it once did.</p>
<p>The following sections help you troubleshoot the most common causes of this.</p>
<h3><span id="My_site_is_not_responding">My site is not responding</span></h3>
<p>This is most likely a DNS issue. Since the server changed, the IP of the site also changed. At your current DNS host, you must point your DNS to your new DreamHost IP. View the DNS settings section above to correct this.</p>
<p>If your site is correctly pointed to your new DreamHost IP, it's possible you could see a 'Site Not Found' error. View the <a href="/hc/en-us/articles/215613517-Site-not-found">Site not found</a> article to fix this.</p>
<p>If your site is still not responding, contact DreamHost support for assistance.</p>
<h3><span id="My_email_form_or_cron_job_is_not_working">My email form or cron job is not working</span></h3>
<p>It's possible to use your servername as part of your email address in a custom email form or cron job. For example, you could use:</p>
<pre>username@servername.dreamhost.com</pre>
<p>In this example, 'username' is your <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">FTP</a> user and 'servername' is the name of your web server. If you're using this format, make sure to update the name of your server you're using for the email address.</p>
<h3><span id="My_uploaded_files_do_not_display_online">My uploaded files do not display online</span></h3>
<p>This is likely because you're using the old server name as your FTP hostname. If you're using something like SERVER.dreamhost.com as your hostname, you'll need to change that to your new server name (which is given to you in the Subject line of the email confirming that you've been successfully moved). Review the <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">Finding your FTP server hostname</a> article for more information on how to view the name of your web server.</p>
<p>An even better idea is to use your domain name. The domain name will automatically point to the correct server no matter where it's moved.</p>
<h3><span id="My_server_key_is_incorrect">My server key is incorrect</span></h3>
<p>Since you'll be moving to a new server, the SSH keys will also change. If you have the key of the old server saved on your local computer, you'll need to remove it. When you log in to the new server after that, it will prompt you to save the new key.</p>
<p>Here's an example of what it will look like when you log in with an incorrectly saved key:</p>
<div class="preboxcontainer">
<pre class="prebox">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ 
@ WARNING: POSSIBLE DNS SPOOFING DETECTED! @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
The RSA host key for www.example.com has changed,
and the key for the corresponding IP address xxx.xxx.x.xxx
is unknown. This could either mean that
DNS SPOOFING is happening or the IP address for the host
and its host key have changed at the same time.
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
Someone could be eavesdropping on you right now (man-in-the-middle attack)!
It is also possible that the RSA host key has just been changed.
The fingerprint for the RSA key sent by the remote host is
0e:c2:f6:f4:d9:86:9d:4b:c4:3d:77:e7:a4:bb:59:14.
Please contact your system administrator.
Add correct host key in /Users/username/.ssh/known_hosts to get rid of
this message.
Offending key in /Users/username/.ssh/known_hosts:3
RSA host key for www.example.com has changed and you have requested
strict checking.
Host key verification failed.
</pre>
</div>
<p>If you’re using a Mac or Linux computer, you can remove the key from the /Users/username/.ssh/known_hosts file from your local computer and then accept the new key on the next login.</p>
<h3><span id="Using_Mac_OS_X">Using Mac OS X</span></h3>
<ol>
<li>Open a terminal window (Applications &gt; Utilities &gt; Terminal).</li>
<li>At the prompt, type:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd .ssh</span>
<span class="server">[server]$ </span><span class="command">ls</span>
</pre>
</div>
<dl>
<dd><em>The key is displayed.</em></dd>
</dl>
<ul>
<li>It should display as a text file named known_hosts.</li>
<li>You may open this in a text editor and remove the offending lines.</li>
<li>Alternatively, if DreamHost is the <strong>only</strong> server you have keys for and the <strong>only</strong> server you connect to, you may delete this file.</li>
</ul>
</li>
<li>To delete this file, type:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">rm known_hosts</span></pre>
</div>
</li>
</ol>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<ul>
<li>If you log in to other servers, do not delete the known_hosts file, or you’ll have no way of knowing if your SSH keys have changed.</li>
<li>If you log in from multiple user accounts on your local device, you may have to do this multiple times (logging in for each user account on your computer's local device.</li>
</ul>
</div>
</div>
<h3><span id="Using_Linux_.28OpenSSH.29">Using Linux (OpenSSH)</span></h3>
<p>The OpenSSH version of SSH provides a command-line utility to remove specific host keys without disturbing the others. This is especially useful if you use SSH to connect to more than one host and you don't want to hand-edit the known_hosts file.</p>
<p>At your shell prompt, type:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">ssh-keygen -R www.example.com</span>
</pre>
</div>
<ul>
<li>This will create a backup of the ~/.ssh/known_hosts file and remove the old key of www.example.com from the current known_hosts.</li>
<li>Repeat as necessary for each domain that was moved.</li>
</ul>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">Where do I find my FTP login credentials?</a></li>
<li><a href="/hc/en-us/articles/215413857-DreamHost-DNS-overview">DreamHost DNS overview</a></li>
<li><a href="/hc/en-us/articles/215613517-Site-not-found">Site not found</a></li>
<li><a href="/hc/en-us/articles/215030208-Email-troubleshooting-checklist-for-escalation">Email troubleshooting checklist for escalation</a></li>
<li><a href="/hc/en-us/articles/217239087-Updating-host-keys">Updating host keys</a></li>
<li><a href="/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
<li><a href="/hc/en-us/articles/218084068-Contacting-support-overview">Contacting support overview</a></li>
</ul>
