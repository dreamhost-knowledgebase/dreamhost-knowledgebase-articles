<p>The following describes how to enforce authentication/password protection using an .htaccess file on a domain or subdirectory. There are two ways to create the .htaccess file:</p>
<ul>
<li>Through the panel</li>
<li>Manually creating an .htaccess file</li>
</ul>
<p>This guide covers both options.</p>
<h2><span class="mw-headline" id="Creating_an_.htaccess_file_in_your_panel">Creating an .htaccess file in your panel</span></h2>
<div class="alert alert-important">
<div class="alert-icon"><img alt="" height="60" src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-important-icon.svg" width="60"/></div>
<div class="alert-content">
<p>The following procedure overwrites any .htaccess file you may already have. Be sure to backup your existing .htaccess file before beginning the steps on this page.</p>
</div>
</div>
<ol>
<li>Navigate to the (<a class=" " href="https://panel.dreamhost.com/index.cgi?tree=goodies.webdav&amp;" rel="nofollow">Panel &gt; ‘Goodies’ &gt; ‘Htaccess/WebDAV’</a>) page.
<dl>
<dd><em>A list of your domains appear on the Htaccess/WebDAV page. Domains must be fully-hosted in order to display here:</em></dd>
<dd><img alt="01 Password Protecting Directories.fw.png" height="207" src="https://objects-us-west-1.dream.io/kbimages/images/01_Password_Protecting_Directories.fw.png" width="666"/></dd>
</dl>
</li>
<li>Click the domain you wish to password protect.</li>
<li>Click the <strong>Set Up a New Directory</strong> button.
<dl>
<dd><em>The WebDAV configuration page appears:</em></dd>
</dl>
<dl>
<dd><img alt="02 Password Protecting Directories.fw.png" height="715" src="https://objects-us-west-1.dream.io/kbimages/images/02_Password_Protecting_Directories.fw.png" width="871"/></dd>
</dl>
</li>
<li>Make your selections based on the information described in the following table.
<table class="wikitable">
<tbody>
<tr><th bgcolor="#F2F2F2">Field</th><th bgcolor="#F2F2F2">
<dl>
<dd>Field Name</dd>
</dl>
</th><th bgcolor="#F2F2F2">
<dl>
<dd>Action and Description</dd>
</dl>
</th></tr>
<tr>
<td align="center"><img alt="1callout.png" height="17" src="https://objects-us-west-1.dream.io/kbimages/images/1callout.png" width="19"/></td>
<td style="width: 35%;">
<dl>
<dd><strong>Directory name</strong></dd>
</dl>
</td>
<td>
<dl>
<dd>Enter the directory you'd like to protect (leave it blank to protect the entire domain.)</dd>
<dd><strong>NOTE</strong>: If you wish to password protect a subdirectory, you must first create it in your <a href="https://dreamhosthelp.zendesk.com/hc/en-us/articles/215612917-FTP-overview">FTP</a> account.</dd>
</dl>
</td>
</tr>
<tr>
<td align="center"><img alt="2callout.png" height="17" src="https://objects-us-west-1.dream.io/kbimages/images/2callout.png" width="19"/></td>
<td>
<dl>
<dd><strong>Password-protect this dir?</strong></dd>
</dl>
</td>
<td>
<dl>
<dd>Check this box.</dd>
</dl>
</td>
</tr>
<tr>
<td align="center"><img alt="3callout.png" height="17" src="https://objects-us-west-1.dream.io/kbimages/images/3callout.png" width="19"/></td>
<td>
<dl>
<dd><strong>Enable WebDAV on this dir?</strong></dd>
</dl>
</td>
<td>
<dl>
<dd>You can leave this unchecked if you don’t need to use <a href="https://dreamhosthelp.zendesk.com/hc/en-us/articles/216660108-WebDAV-overview">WebDAV</a> on this domain.</dd>
</dl>
</td>
</tr>
<tr>
<td align="center"><img alt="4callout.png" height="17" src="https://objects-us-west-1.dream.io/kbimages/images/4callout.png" width="19"/></td>
<td>
<dl>
<dd><strong>Directory “name”</strong></dd>
</dl>
</td>
<td>
<dl>
<dd>Enter the name you'd like to call this area (this appears in the pop-up window asking for your password).</dd>
</dl>
</td>
</tr>
<tr>
<td align="center"><img alt="5callout.png" height="17" src="https://objects-us-west-1.dream.io/kbimages/images/5callout.png" width="19"/></td>
<td>
<dl>
<dd><strong>User accounts for this area</strong></dd>
</dl>
</td>
<td>
<dl>
<dd>Enter a username and password that is allowed access to the password-protected domain/directory. Each line consists of a single username password in the format 'username password'. In the screenshot above, ‘username1’ uses the password ‘password1’.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</li>
<li>When you finish entering the selections, scroll down to the bottom of the page and click the <strong>Configure This Directory</strong> button.</li>
</ol>
<p>Within 10 minutes, this directory on your site is protected.</p>
<h2><span class="mw-headline" id="Testing_the_.htaccess_file">Testing the .htaccess file</span></h2>
<p>Once everything is configured, a new .htaccess and .htpasswd file appear in your website’s directory. The .htaccess file consists of the following code:</p>
<div class="preboxcontainer">
<pre class="prebox">### Generated by Dreamhost. DO NOT modify!!! ###
AuthType Basic
AuthUserFile /home/exampleuser/websitehelp.support/public/.htpasswd
AuthName "Members Area"
require valid-user
################################################
</pre>
</div>
<p>The .htpasswd file only shows the encrypted password you chose for username1:</p>
<div class="preboxcontainer">
<pre class="prebox">username1:$1$MVq7Nkc/$GTaN0dRkCsiXJpFNxYs8V.</pre>
</div>
<dl>
<dd><em>When you visit your website in a browser, a popup authentication box appears that asks you to enter your credentials:</em></dd>
</dl>
<dl>
<dd><img alt="03 Password Protecting Directories.fw.png" height="232" src="https://objects-us-west-1.dream.io/kbimages/images/03_Password_Protecting_Directories.fw.png" width="699"/></dd>
</dl>
<p>Only the users you added through the panel in the ‘User accounts for this area' field are able to access the site.</p>
<h2><span class="mw-headline" id="Manually_protecting_a_directory">Manually protecting a directory</span></h2>
<p>Sometimes you may need more control over how your directories are password protected, such as when you wish to assign group access instead of individual users. Or, you might already have an .htaccess file in a directory and you don't want the automatically-generated one to overwrite it. If so, you can manually create and edit the .htaccess file instead of using the panel.</p>
<h2><span class="mw-headline" id="Creating_and_editing_an_.htaccess_and_.htpasswd_files">Creating and editing an .htaccess and .htpasswd files</span></h2>
<p>View the <a href="https://dreamhosthelp.zendesk.com/hc/en-us/articles/216363187-How-do-I-password-protect-my-site-">.htaccess authentication</a> article for further details on how to manually password protect a directory or file.</p>
<h2><span class="mw-headline" id="See_also">See also</span></h2>
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216456227--htaccess-overview">.htaccess overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216363187-How-do-I-password-protect-my-site-">How do I password protect my site?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216660108-WebDAV-overview">WebDAV overview</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a href="http://httpd.apache.org/docs/2.2/programs/htpasswd.html" rel="nofollow">Official htpasswd documentation</a> – manage user files for basic authentication</li>
<li><a href="http://httpd.apache.org/docs/2.2/misc/password_encryptions.html" rel="nofollow">Apache .htpasswd Password Formats</a> – explains the available encryptions</li>
</ul>
