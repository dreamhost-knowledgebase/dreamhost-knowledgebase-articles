<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="ubuntu_bionic" class="solvvy-hidden">
<div class="altTitle">Ubuntu Bionic</div>
<div class="table-of-content container">
<ul class="simple">
<li><a class="reference internal" href="#prep">What to expect</a></li>
<li><a class="reference internal" href="#mysql">MySQL</a></li>
<li><a class="reference internal" href="#telnet">Telnet</a></li>
<li><a class="reference internal" href="#boto_s3cmd">Boto-rsync and S3cmd</a></li>
<li><a class="reference internal" href="#ruby">Ruby version change (from 1.9.3.4 to 2.5.1)</a></li>
<li><a class="reference internal" href="#gcc">GCC version change to 7</a></li>
<li><a class="reference internal" href="#passenger">Passenger</a></li>
<li><a class="reference internal" href="#perl">Perl version change (from 5.18.4 to 5.26)</a></li>
<li><a class="reference internal" href="#python">Python version changes</a></li>
<li><a class="reference internal" href="#java">Java version change (from 7u151 to 8u171)</a></li>
<li><a class="reference internal" href="#apache">Apache version change (from 2.2 to 2.4)</a></li>
<li><a class="reference internal" href="#ffmpeg_libav">FFmpeg and Libav</a></li>
<li><a class="reference internal" href="#support">How can I find support?</a></li>
</ul>
</div>
</div>
<p>The following provides information to help you prepare your site for the Ubuntu upgrade from Trusty Tahr to version 18.04.1 LTS (aka Bionic).</p>
<h2><span id="prep">What to expect</span></h2>
<div class="solvvy-solution">
<p>DreamHost will contact you via email in advance of the upgrade.</p>
<p>The time frame of an upgrade can vary from server to server, however the timing ensures that there are several highly trained engineers on hand should any major issues arise. The upgrade itself should take no longer than an hour to complete.</p>
<p>Any services that rely on the availability of your MySQL server (WordPress or any other database-driven websites, applications, and so on) will not be reachable until the upgrade is complete. This will NOT affect cloud or email services.</p>
</div>
<h2><span id="mysql">MySQL</span></h2>
<div class="solvvy-solution">
<h3>Server changes</h3>
<p>DreamHost MySQL servers will be upgraded to MySQL version to 5.7 as part of the Ubuntu upgrade.</p>
<h3>Reserved words</h3>
<p>MySQL 5.7 includes list of "reserved" words (such as ‘SELECT’, ‘DELETE’, ‘BIGINT’, and ‘VIRTUAL’) that cannot be used as a database name and must be escaped. These words are reserved and require special treatment for use as identifiers such as table and column names. Please see the MySQL <a href="https://dev.mysql.com/doc/refman/5.7/en/keywords.html" target="_self">Keywords and Reserved Words</a> article for more information.</p>
</div>
<h2>Web server changes</h2>
<div class="solvvy-solution">
<h3><span id="telnet">Telnet</span></h3>
<p>Because Telnet is a deprecated protocol, it is removed from the latest version of Ubuntu Bionic in order to help keep your server secure. If you require telnet, DreamHost recommends running it on your local computer instead.</p>
<h3><span id="boto_s3cmd">Boto-rsync</span></h3>
<p>Because boto-rsync is outdated software and is no longer maintained, it is also removed from the latest version of Ubuntu Bionic. DreamHost recommends using <a href="https://s3tools.org/s3cmd">S3cmd</a> instead. You can find out more about how to use S3cmd (or AWS CLI) at DreamHost in the following articles:</p>
<ul>
<li><a href="/hc/en-us/sections/360003569291-S3cmd">S3cmd</a></li>
<li><a href="/hc/en-us/sections/360003559251-AWS-Command-Line-Interface">AWS Command Line Interface</a></li>
</ul>
<h3><span id="ruby">Ruby version change (from 1.9.3.4 to 2.5.1)</span></h3>
<p>The Ruby version on the server is changing to 2.5.1. If you would like more control over this, DreamHost strongly recommends using <a href="/hc/en-us/articles/217185247-Ruby-Version-Manager-RVM-">RVM</a>.</p>
<p>If you are using <a href="/hc/en-us/articles/115001070131-Using-Bundler-to-install-Ruby-gems">Bundler</a>, you only need to run:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">bundle exec gem pristine</span>
</pre>
</div>
<p>Then, reload passenger so that the changes take effect by touching a <span class="code">restart.txt</span> file from your apps 'tmp' directory:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">touch  tmp/restart.txt</span>
</pre>
</div>
<h3><span id="gcc">GCC version change to 7</span></h3>
<p>Bionic includes gcc-7, which means versions of Ruby earlier than 2.4 are no longer supported as they require gcc-6.</p>
<ul>
<li><a href="https://gcc.gnu.org/install/index.html">https://gcc.gnu.org/install/index.html</a></li>
</ul>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Sites relying on versions of Ruby earlier than Ruby 2.4 must be migrated to a newer version.</p>
</div>
</div>
<h3><span id="passenger">Passenger</span></h3>
<p>To enable Passenger error-friendly pages (which helps troubleshoot upgrade issues), add the following to an .htaccess file within the application:</p>
<div class="preboxcontainer">
<pre class="prebox">PassengerFriendlyErrorPages on</pre>
</div>
<h3><span id="perl">Perl version change (from 5.18.4 to 5.26)</span></h3>
<p>Ubuntu Bionic includes a new version of Perl, 5.26.</p>
<p>For more information on updating your version of Perl, visit the following article:</p>
<ul>
<li><a href="https://metacpan.org/changes/release/XSAWYERX/perl-5.26.0">Change documentation between 5.24 and 5.26</a></li>
</ul>
<h3><span id="python">Python version changes</span></h3>
<p>The following Python versions are changing:</p>
<ul>
<li>Python 2 (from 2.7.5 to 2.7.15)</li>
<li>Python 3 (from 3.4.3 to 3.6.5)</li>
</ul>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Since Bionic includes a new kernel and operating system, it no longer supports custom compiled versions of Python older than 2.7.15. If you are running an application that uses a version of Python that is older than 2.7.15, you must upgrade your code so it is compatible with at least 2.7.15 when applicable.</p>
<p>If you need to use an older-than-2.7.15 version of Python, you can consider using DreamCompute to set up a customized environment that allows sudo access. For more information on DreamCompute, please see the following article:</p>
<ul>
<li><a href="234961387">Getting started with DreamCompute</a></li>
</ul>
</div>
</div>
<p>Ubuntu Bionic includes a new version of Python 2 (2.7.15) and Python 3 (3.6.5). If you used a version older than 2.7.15 when creating your virtualenv, you may need to reinstall your virtualenv and all modules with a newer version:</p>
<ul>
<li><a href="/hc/en-us/articles/215489338-Installing-and-using-virtualenv-with-Python-2">Installing and using virtualenv with Python 2</a></li>
<li><a href="/hc/en-us/articles/115000695551-Installing-and-using-virtualenv-with-Python-3">Installing and using virtualenv with Python 3</a></li>
<li><a href="/hc/en-us/articles/215317948-How-to-install-Django-using-virtualenv">How to install Django using virtualenv</a></li>
</ul>
<p>For more information on the latest versions of Python, visit the following links:</p>
<ul>
<li><a href="https://docs.python.org/2/whatsnew/2.7.html">What's new in Python 2.7.15</a></li>
<li><a href="https://docs.python.org/3/whatsnew/3.6.html">What's new in Python 3.6</a></li>
</ul>
<h3><span id="java">Java version change (from 7u151 to 8u171)</span></h3>
<p>Ubuntu Bionic includes a new version of Java version 8, 8u171.</p>
<p>This is the first major upgrade in quite some time, so it's definitely a good idea to make sure any Java dependencies you may have are compatible with version 8.</p>
<p>For more information on the latest versions of Java, visit the following link:</p>
<ul>
<li><a href="https://www.java.com/en/download/faq/release_changes.xml">Java 8 Release Highlights</a></li>
</ul>
<h3><span id="apache">Apache version change (from 2.2 to 2.4)</span></h3>
<p>Apache is upgrading to version 2.4 (from 2.2). Although this should not cause any major issues to your hosting environment, you can view a list of changes in the following article:</p>
<ul>
<li><a href="https://httpd.apache.org/docs/2.4/upgrading.html">Upgrading to 2.4 from 2.2</a></li>
</ul>
<h3><span id="ffmpeg_libav">FFmpeg and Libav</span></h3>
<p>Both of these libraries are changing in the Bionic upgrade of Ubuntu.</p>
<p>In Ubuntu Trusty, Libav replaced FFmpeg, and FFmpeg was removed from Trusty entirely. With the Bionic upgrade, this is being reversed: FFmpeg is back, and Libav has been removed. Please make sure you update your file settings accordingly.</p>
</div>
<h2><span id="support">How can I find support?</span></h2>
<div class="solvvy-solution">
<p>If you have any questions or concerns, please feel free to <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=support.msg&amp;" target="_blank" rel="noopener">contact support</a>.</p>
</div>
</div>
</div>
</div>
