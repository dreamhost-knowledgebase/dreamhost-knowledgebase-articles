<h2>Overview</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>If your Ruby application won't start because of a missing gem, then you must install it locally using Bundler. For more information about using Bundler, please visit the following page:</p>
<ul>
<li><a href="/hc/en-us/articles/115001070131-Using-Bundler-to-install-Ruby-gems">Using Bundler to install Ruby gems</a></li>
</ul>
</div>
<p>Ruby Version Manager (RVM) is a utility that allows you to add your own personal version of Ruby to a user. It allows you to add, remove, or have multiple versions of Ruby and its libraries to live in your user directory.</p>
<p>This article describes how to enable the RVM with Passenger using the DreamHost panel.</p>
<p>Please note this does <strong>NOT</strong> install RVM. You must still manually install this yourself. Visit the <a href="/hc/en-us/articles/217185247-Ruby-Version-Manager-RVM-">RVM</a> article for detailed instructions on how to manually install. Once RVM has been installed and you've installed a custom version of Ruby, you can then select which version of Ruby you'd like to use (for a specific domain) by enabling the option in the panel below.</p>
<div class="notebox-note">
<p>Your domain must run on a <a href="https://help.dreamhost.com/hc/en-us/articles/215280058-Virtual-Private-Server-VPS-overview-">VPS</a>&nbsp;or&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/215279658-Dedicated-server-overview">Dedicated</a> Server in order to enable RVM in the DreamHost panel. If your VPS is running Nginx, view the following article instead.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360044520212-Running-an-Nginx-application-without-Passenger" target="_self">Running an Nginx application without Passenger</a></li>
</ul>
</div>
</div>
<h2><span id="Enabling_RVM_in_the_Panel">Enabling RVM in the Panel</span></h2>
<div class="solvvy-solution">
<p>To enable RVM:</p>
<ol>
<li>Visit the <a href="/hc/en-us/articles/217185247-Ruby-Version-Manager-RVM-">RVM</a> article for instructions on how to manually install Ruby Version Manager.</li>
<li>Using RVM, install any custom version of Ruby you like under your <a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Creating-a-user-with-Shell-SSH-access">Shell user</a>.</li>
<li>Navigate to the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=domain.manage&amp;" target="_blank" rel="noopener">Manage Domains</a> page.</li>
<li>Click the <strong>Edit</strong> button to the right of your domain under the <span class="text-object">Web Hosting</span> column.
<dl>
<dd><em>The <span class="panel-page">Manage Domains</span> settings page opens:</em></dd>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-07_panel_enable_rvm_01.png" /></dd>
</dl>
</li>
<li>Scroll down to the <span class="text-section">Web Options</span> section and check the <span class="text-object">Passenger (Ruby/NodeJS/Python apps only):</span> check box.
<dl>
<dd><img src="https://kbimages.dreamhosters.com/images/01_Passenger.png" /></dd>
</dl>
</li>
<li>A Passenger prompt appears notifying you that a <span class="text-object">/public</span> directory will be added to the end of your web directory path. Click <strong>OK</strong> to continue.
<div class="notebox-important">
<p>If you already have a <span class="text-object">/public</span> directory in the current <span class="text-object">Web directory</span>, clicking OK will only switch the <span class="text-object">Web directory</span> to this new <span class="text-object">/public</span> folder. Nothing in it is removed.</p>
<p>If you do not already have a <span class="text-object">/public</span> directory, the panel creates it for you with a coming soon page. The files in your current <span class="text-object">Web directory</span> remain untouched.</p>
</div>
</li>
<li>The RVM check box appears along with a field to enter your custom path:<img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-07_panel_enable_rvm_02.png" /></li>
<li>Enter the following:
<ul>
<li>Check the 'RVM:' check box.</li>
<li>Enter the path for your Ruby install and save your changes.</li>
</ul>
</li>
</ol>
<div class="notebox-important">
<p>Make sure to change <span class="code">username</span> to your <a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Creating-a-user-with-Shell-SSH-access" target="_self">Shell user</a>.</p>
<p>The path may not appear exactly as it does in the panel. For example, once you have manually installed a version of Ruby, it could also appear in the following directory:</p>
<div class="preboxcontainer">
<pre class="prebox">/home/<span class="code-highlight">username</span>/.rvm/wrappers/ruby-<span class="code-highlight">2.2.2</span>/ruby</pre>
</div>
<p>Make sure to confirm where your custom version of Ruby has been installed to before saving your changes above.</p>
</div>
<div class="notebox-important">
<p>You can set up multiple domains/subdomains on a single user via <a href="https://rvm.io/gemsets/basics">Gemsets</a>, but you will need to create <a href="https://rvm.io/rubies/alias">aliases</a> without the '@' character.</p>
<p>So, if the following paths give an invalid characters message:</p>
<ul>
<li>/home/username/.rvm/wrappers/ruby-2.2.1@firstsite/ruby</li>
<li>/home/username/.rvm/wrappers/ruby-2.2.1@secondsite/ruby</li>
</ul>
<p>Run the following commands to create an alias. (Adjust 'firstsite' and 'secondsite' as necessary):</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">rvm alias create <span class="code-highlight">firstsite</span> ruby-<span class="code-highlight">2.2.1@firstsite</span></span>
<span class="server">[server]$ </span><span class="command">rvm alias create <span class="code-highlight">secondsite</span> ruby-<span class="code-highlight">2.2.1@secondsite</span></span>
</pre>
</div>
<ul>
<li>/home/username/.rvm/wrappers/firstsite/ruby</li>
<li>/home/username/.rvm/wrappers/secondsite/ruby</li>
</ul>
</div>
<p>After you have saved changes, this specific domain will use your custom version of Ruby along with Passenger.</p>
</div>
<h2><span id="See_also">See also</span></h2>
<div class="solvvy-hidden">
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217185247-Ruby-Version-Manager-RVM-">Ruby Version Manager (RVM)</a></li>
<li><a href="/hc/en-us/articles/215769578-Passenger-overview">Passenger overview</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a class="new" title="W:Ruby Version Manager (page does not exist)" href="https://en.wikipedia.org/wiki/Ruby_Version_Manager">Wikipedia article on Ruby Version Manager</a></li>
<li><a href="https://rvm.io/">Ruby Version Manager</a></li>
</ul>
</div>
