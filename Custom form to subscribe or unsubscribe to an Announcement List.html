<div id="auto-toc">&nbsp;</div>
<h2 id="h_01HBGWHQK8KNVVYFF1R9MCEXG0">Overview</h2>
<div class="solvvy-solution">
<p>This article walks you through creating a custom contact form to allow users to subscribe to your Announcement List.</p>
<div class="notebox-important">
<p>Please note that if you have multiple mailing lists, you must have a separate subscription form for each one.</p>
</div>
</div>
<h2 id="h_01HBGWHQK80A8A3R8P8Q52X8H2">Section 1 — Adding your list's values</h2>
<div class="solvvy-solution">
<p>This first section is responsible for sending information to your list. You must change the&nbsp;<strong>_MailingListName_</strong>&nbsp;and <strong>_DomainName_ </strong>values to your specific list values.</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;form method="post" action="https://scripts.dreamhost.com/add_list.cgi"&gt;

&lt;input type="hidden" name="list" value="<span class="code-highlight">MailingListName"</span>&gt;
&lt;input type="hidden" name="domain" value="<span class="code-highlight">DomainName"</span>&gt;</pre>
</div>
<div class="notebox-note">
<p>You <strong>must</strong> customize the text <strong>MailingListName</strong>&nbsp;and <strong>DomainName&nbsp;</strong>according to your needs. The other fields can remain as they are, but these two must be updated to your specific Announcement List details. See below for an explanation of these fields.</p>
</div>
<h3 id="h_01HBGWHQK8WVP5J61AX11T87YS">Explanation of the fields above</h3>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Field</th>
<th bgcolor="#F2F2F2">Explanation</th>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>MailingListName</strong></td>
<td style="background-color: #effbf8;">
<p>This is the part of your mailing list "From Email" that comes before the @ sign. So if your list is <span class="text-object">mylist@example.com</span>, this would be <strong>mylist</strong>. For example:</p>
<p>&lt;input type="hidden" name="list" value="mylist"&gt;</p>
<p>Please note that people won't actually be able to send email to <span class="text-object">listname@example.com</span> unless you set that up as an <a href="https://help.dreamhost.com/hc/en-us/articles/217139407-Add-an-email-address">independent email address</a> or <a href="https://help.dreamhost.com/hc/en-us/articles/215022298-Create-an-autoresponder">autoresponder</a> in the panel.</p>
</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>DomainName</strong></td>
<td style="background-color: #effbf8;">
<p>This is the domain name of the site where this form is residing. It's <strong>not</strong> necessary to have this field, but having it will ensure full compatibility with all browsers. For example:</p>
<p>&lt;input type="hidden" name="domain" value="<strong>example.com</strong>"&gt;</p>
</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01HBGWHQK8TNG6KFCBF0NPPZ3H">Section 2 — Email fields</h2>
<div class="solvvy-solution">
<p><span data-sheets-userformat="{\" data-sheets-value="{\">This section adds an input field for the user's name and email address. The second email field validates that you've entered your email correctly.</span></p>
<div class="preboxcontainer">
<pre class="prebox"><!--&lt;!--Visible Fields--&gt;
&lt;div&gt;
    &lt;label for="name"&gt;Name:&lt;/label&gt;
    &lt;input type="text" name="name"&gt;
&lt;/div&gt;-->
&lt;!-- Required: --&gt;
&lt;div&gt;
    &lt;label for="email"&gt;Email:&lt;/label&gt;
    &lt;input type="text" name="email" placeholder="Enter a valid email" required&gt;
&lt;/div&gt;

&lt;!-- Optional: --&gt;
&lt;div&gt;
    &lt;label for="confirm-email"&gt;Confirm Email:&lt;/label&gt;
    &lt;input type="text" name="address2" placeholder="Please verify you email" required&gt;
    &lt;input type="hidden" name="req_address2" value="1" input name="email" /&gt;
&lt;/div&gt;</pre>
</div>
</div>
<h2 id="h_01HBGWHQK898740GSF4E7VG83V">Section 3 — Submit and Unsubscribe buttons</h2>
<div class="solvvy-solution">
<div class="notebox-note">
<p>Subscription confirmation emails:</p>
<ul>
<li>must be replied to in order to verify a subscription.</li>
<li>are sent by default from <span class="text-object">donotreply@dreamhost.com</span>, which cannot be modified. Only announcements sent to current subscribers will be sent from the list's address, not the initial confirmation email.</li>
</ul>
</div>
<p>The submit button is required as it sends the form data. You can also add the Unsubscribe button as well to make it easy for users to remove themselves from your list. You should change this text to suit your needs.</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;div class="button"&gt;
    &lt;input type="submit" name="submit" value="<span class="code-highlight">Join Our Announcement List</span>"&gt;
&lt;/div&gt;

&lt;!-- Optional Unsubscribe Button --&gt;
&lt;div class="button"&gt;
    &lt;input type="submit" name="unsub" value="<span class="code-highlight">Remove from list</span>"&gt;
&lt;/div&gt;</pre>
</div>
<h3 id="h_01HBGWHQK8NCVC5743K313HTVS">Explanation of the fields above</h3>
<table class="wikitable"><colgroup> <col width="30%" /> <col width="75%" /> </colgroup>
<tbody>
<tr>
<th bgcolor="#F2F2F2">Field</th>
<th bgcolor="#F2F2F2">Explanation</th>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>Join Our Announcement List</strong></td>
<td style="background-color: #effbf8;">This label can be changed to anything that doesn't contain the words "remove", "out", "unsub", "leave", or "delete," and will act as the subscribe button. Also if you're an HTML expert you can use an image for the submit button.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>Remove from list</strong></td>
<td style="background-color: #effbf8;">This will be the label on your "unsubscribe" button. It's not mandatory to have this button, but it's more convenient if your list members can unsubscribe over the web, without your intervention. The name of this button must include one of the following: "remove", "out", "unsub", "leave", or "delete". If it doesn't, it will act as though it is a subscribe button.</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01HBGWHQK84EZ2MA5KJGMPRHEQ">Full example of basic form</h2>
<div class="solvvy-solution">
<p>This is the full HTML-only code example of how a very simple subscription form would look like.</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;html&gt;
&lt;body&gt;

&lt;form method="post" action="https://scripts.dreamhost.com/add_list.cgi"&gt;

&lt;input type="hidden" name="list" value="<span class="code-highlight">MailingListName"</span>&gt;
&lt;input type="hidden" name="domain" value="<span class="code-highlight">DomainName"</span>&gt;
    
&lt;!-- Required: --&gt;
&lt;div&gt;
    &lt;label for="email"&gt;Email:&lt;/label&gt;
    &lt;input type="text" name="email" placeholder="Enter a valid email" required&gt;
&lt;/div&gt;

&lt;!-- Optional: --&gt;
&lt;div&gt;
    &lt;label for="confirm-email"&gt;Confirm Email:&lt;/label&gt;
    &lt;input type="text" name="address2" placeholder="Please verify you email" required&gt;
    &lt;input type="hidden" name="req_address2" value="1" input name="email" /&gt;
&lt;/div&gt;

&lt;div class="button"&gt;
    &lt;input type="submit" name="submit" value="<span class="code-highlight">Join Our Announcement List</span>"&gt;
&lt;/div&gt;

&lt;!-- Optional Unsubscribe Button --&gt;
&lt;div class="button"&gt;
    &lt;input type="submit" name="unsub" value="<span class="code-highlight">Remove from list</span>"&gt;
&lt;/div&gt;
&lt;/form&gt;<br />
&lt;body&gt;
&lt;html&gt;
</pre>
</div>
</div>
<h2 id="h_01HBGWHQK8XPPX9J9VJDPFTFJC">How do I use images for my subscribe and unsubscribe submit buttons?</h2>
<div class="solvvy-solution">
<p>If you don't want to use the standard submission buttons but would rather use your own images, you can do that with this code:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;input type="image" border="0" name="submit" src="<strong>subscribe.gif</strong>"&gt;
&lt;input type="image" border="0" name="unsub" src="<strong>unsubscribe.gif</strong>"&gt;</pre>
</div>
</div>
<h2 id="h_01HBGWHQK87C3XWT1BXHX3DEKH">General CSS code</h2>
<div class="solvvy-solution">
<p>This is some general CSS code you can use to style your form. You will most likely need more depending on your site's needs.</p>
<div class="preboxcontainer">
<pre class="prebox">/* Centers the form on the page */
form {
  margin: 0 auto;
  width: 400px;
  /* Add a border */
  border: 1px solid #CCC;
  padding: 15px;
  border-radius: 15px;
}

/* add space between fields */
form div {
  margin-bottom: 15px;
}

/* Space input fields */
label {
  display: inline-block;
  width: 125px;
  text-align: left;
}</pre>
</div>
</div>
<h2 id="h_01HBGWHQK8T3S3R913MB2CNC0G">Creating custom URLs</h2>
<div class="solvvy-solution">
<p>There are several default pages that display depending on the information the user enters into your form.</p>
<p>You can change these default URLs to a custom URL you have created. To change where the URLs redirect, you must add your custom URLs in the panel while editing the list.</p>
<p>For example, the following items can be adjusted from your list's 'Edit' page.</p>
<ul>
<li><em>Unsubscribe URL</em></li>
<li><em>Already Subscribed URL</em></li>
<li><em>Not Subscribed URL</em></li>
<li><em>Invalid Email Address URL</em></li>
<li><em>Confirmation URL</em></li>
</ul>
<h3 id="h_01HBGWHQK8ZDDVDY3XGJB1H3TC">Explanation of the fields above</h3>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Field</th>
<th bgcolor="#F2F2F2">Explanation</th>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_https://UnsubscribedURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that appears if someone successfully unsubscribed from the list. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Unsubscribe URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_https://AlreadyOnURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that appears if someone who is already on the list attempts to subscribe to it. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Already Subscribed URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_https://NotOnURL</strong>_</td>
<td style="background-color: #effbf8;">The URL of the page that appears if they are not on the list, and they have attempted to unsubscribe. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Not Subscribed URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_https://InvalidURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that will appear if the email address entered is invalid. You can create your own .html page or omit this field. If omitted, the value in the <em>Invalid Email Address URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_https://EmailConfirmURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that will appear when the user confirms their opt-in to your list by clicking a link in an email message just sent to them. If you customized the URL field, you should probably customize this one as well. You basically need a message that says something like "You are not QUITE subscribed yet.. please now check your email right now for the last step to confirm your subscription to our list!". You can create your own .html page with this message, or omit this field. If omitted the <em>Confirmation URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>&lt;input type="hidden" name="emailit" value="1" /&gt;</strong></td>
<td style="background-color: #effbf8;">If you have this hidden input in the form, you will automatically receive a default email sent to <span class="text-object">_MailingListName_@example.com</span>. You can then set this up as an auto-responder whenever someone signs up for the mailing list. Plus, you will also get a default email sent to <span class="text-object">unsubbed-_MailingListName_@example.com</span> whenever somebody unsubscribes as well.</td>
</tr>
</tbody>
</table>
<p>If you use your own custom URLs, you can still access some of the information submitted in the form. The DreamHost script redirects your URLs with the following variables:</p>
<ul>
<li><span class="text-object">address=user@example.com</span></li>
<li><span class="text-object">name=Their+Name</span></li>
</ul>
<dl>
<dd></dd>
</dl>
<p>The following example reads the name and address entered on the form on a custom Subscribe URL response page:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;?php
$email = $_GET['address'];
$name = $_GET['name'];
?&gt;
Thanks for subscribing, &lt;?php echo $name; ?&gt; - we'll send our next newsletter to you at &lt;?php echo $email; ?&gt;!</pre>
</div>
<p>This example assumes you're using a PHP file and the name form field is required, otherwise you'd need to get a little fancier to display something else if the name field is blank.</p>
<p>Using a PHP conditional to check for data in the name field:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;?php
if ($name!="")
echo "$name"; ?&gt;

Thanks for subscribing&lt;?php if ($name!="") echo ", $name"; ?&gt; - we'll send our next newsletter to you at &lt;?php echo $email; ?&gt;!</pre>
</div>
<p>This way, the name field does not print if it contains nothing.</p>
<div class="notebox-note">
<p>If you need to <strong>suppress</strong> these query variables (e.g., if you are using WordPress), you can do so by adding the nourlvars=1 query variable when adding someone to the list.</p>
</div>
</div>
<h2 id="h_01HBGWHQK86DCQZKCS9GN24B4P">A note for WordPress sites</h2>
<div class="solvvy-solution">
<p>If your site uses <a href="/hc/en-us/articles/215525287-WordPress-overview">WordPress</a>, you must link to the <a href="https://wordpress.org/support/article/using-permalinks/" target="_self" rel="undefined">default "Ugly" permalink type</a> (of the form <strong>https://example.com/?p=<em>N</em></strong>), even if you use any of the "Pretty" permalinks instead. This is because the mailing list scripts automatically add parameters to the URLs which don't work with "Pretty" permalinks.</p>
<p>If you edit a post or a page, you can find the post ID number in the URL line after the post= text. For example, you might see something like:</p>
<ul>
<li><strong>https://example.com/wp-admin/post.php?post=3141?action="edit"</strong>, so the post ID is <span class="text-object">3141</span>.</li>
</ul>
<p>In this example, you would use something like:</p>
<ul>
<li><strong>https://example.com/?p=3141</strong></li>
</ul>
<p>as the URL of the page even if it also has a "Pretty" permalink such as:</p>
<ul>
<li><strong>https://example.com/mailing_list_unsubscribed</strong></li>
</ul>
<p>You may also create these pages outside WordPress to avoid the problems with permalinks.</p>
</div>
<h2 id="h_01HBGWHQK8M21TEAA4E965PCRC">See also</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215683487-Announcement-List-overview">Announcement List overview</a></li>
<li><a href="/hc/en-us/articles/215683497-Configure-and-manage-an-Announcement-List">Configure and manage an Announcement List</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215683527-Add-users-to-an-Announcement-List">Add users to an Announcement List</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215683577-Send-an-Announcement-List">Send an Announcement List</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214982098-Import-or-export-a-subscriber-list-to-an-Announcement-List">Import or export a subscriber list to an Announcement List</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215029188-Create-a-Discussion-List">Create a Discussion List</a></li>
</ul>
</div>
