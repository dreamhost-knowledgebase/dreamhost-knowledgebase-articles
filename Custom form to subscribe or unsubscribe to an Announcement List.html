<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="How-do-I-create-a-form-in-an-Announcement-List?">
<div class="altTitle">Subscribe / unsubscribe form</div>
<div class="table-of-content container">
<ul class="simple">
<li><a class="reference internal" href="#example">Form example</a></li>
<li><a class="reference internal" href="#wordpress">A note for WordPress sites</a></li>
<li><a class="reference internal" href="#more_fields">Can I add more fields to the basic form?</a></li>
<li><a class="reference internal" href="#custom_urls">How do I display information from the form if I use custom URLs?</a></li>
<li><a class="reference internal" href="#images">How do I use images for my subscribe and unsubscribe submit buttons?</a></li>
</ul>
</div>
<p>Instead of manually adding users, you can create an HTML form similar to the one below.</p>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>The following items can be adjusted from your list's 'Edit' page so you don't need to manually add them to your form:</p>
<ul>
<li><em>Unsubscribe URL</em></li>
<li><em>Already Subscribed URL</em></li>
<li><em>Not Subscribed URL</em></li>
<li><em>Invalid Email Address URL</em></li>
<li><em>Confirmation URL</em></li>
</ul>
</div>
</div>
<p>When someone subscribes through this custom form, an email confirmation is sent displaying your <em>SubscribedURL</em> page (or a generic page if none is specified). For example:</p>
<dl>
<dd><img src="https://objects-us-west-1.dream.io/kbimages/images/Announcement_List_Success_add.png" alt="Announcement_List_Success_add.png" /></dd>
</dl>
<p>When the recipient confirms by clicking the link in the email, the script will show the <em>EmailConfirmURL</em> page (or a generic page if none is specified).</p>
<p>If any problems occur, the script shows one of the error pages, or the <em>UnsubscribedURL</em> page if the person is unsubscribing.</p>
<span id="example"></span>
<h2>Form example</h2>
<p>Here is a basic form that includes all the optional fields. Note that you <strong>must</strong> customize the text between underscore ("_") characters (such as _MailingListName_) according to your needs. See below for an explanation of these fields. Also, if you have multiple mailing lists, you must have a separate subscription form for each one.</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;form method="post" action="http://scripts.dreamhost.com/add_list.cgi"&gt;
&lt;table&gt;&lt;input type="hidden" name="list" value="_MailingListName_" /&gt;
&lt;input type="hidden" name="domain" value="_DomainName_" /&gt;

&lt;!-- Optional: --&gt;
&lt;input type="hidden" name="unsuburl" value="_http://UnsubscribedURL_" /&gt;
&lt;input type="hidden" name="alreadyonurl" value="_http://AlreadyOnURL_" /&gt;
&lt;input type="hidden" name="notonurl" value="_http://NotOnURL_" /&gt;
&lt;input type="hidden" name="invalidurl" value="_http://InvalidURL_" /&gt;
&lt;input type="hidden" name="emailconfirmurl" value="_http://EmailConfirmURL_" /&gt;
&lt;input type="hidden" name="emailit" value="1" /&gt;
&lt;tr&gt;&lt;td&gt;Name&lt;/td&gt;&lt;td&gt;&lt;input type="text" name="name" /&gt;&lt;/td&gt;&lt;/tr&gt;<br />
&lt;!-- Required: --&gt;
&lt;tr&gt;&lt;td&gt;E-mail&lt;/td&gt;&lt;td&gt;&lt;input type="text" name="email" /&gt;&lt;/td&gt;&lt;/tr&gt;<br />
&lt;!-- Optional: --&gt;
&lt;tr&gt;&lt;td&gt;Confirm E-mail&lt;/td&gt;&lt;td&gt;&lt;input type="text" name="address2" /&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;!-- Required: --&gt;
&lt;tr&gt;&lt;td&gt;&lt;input type="submit" name="submit" value="_Join Our Announcement List_" /&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;!-- Optional: --&gt;
&lt;tr&gt;&lt;td&gt;&lt;input type="submit" name="unsub" value="_Remove from list_" /&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;

&lt;/table&gt;
&lt;/form&gt;</pre>
</div>
<h3>Explanation of the fields above</h3>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Field</th>
<th bgcolor="#F2F2F2">Explanation</th>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_MailingListName_</strong></td>
<td style="background-color: #effbf8;">This is the part of your mailing list "From Email" that comes before the @ sign. So if your list is <strong>mylist@example.com</strong>, this would be <strong>mylist</strong>. Please note that people won't actually be able to send email to listname@example.com unless you set that up as an <a href="/hc/en-us/articles/217139407-Email-quickstart-guide">independent email address</a> or <a href="/hc/en-us/articles/215022298-How-do-I-create-an-autoresponder-">auto-responder</a> in the panel.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_DomainName_</strong></td>
<td style="background-color: #effbf8;">This is the domain name of the site where this form is residing. It's <strong>not</strong> necessary to have this field, but having it will ensure full compatibility with all browsers.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_http://UnsubscribedURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that appears if someone successfully unsubscribed from the list. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Unsubscribe URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_http://AlreadyOnURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that appears if someone who is already on the list attempts to subscribe to it. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Already Subscribed URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_http://NotOnURL</strong>_</td>
<td style="background-color: #effbf8;">The URL of the page that appears if they are not on the list, and they have attempted to unsubscribe. You can create your own .html page or omit this field from the HTML form. If omitted, the value in the <em>Not Subscribed URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_http://InvalidURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that will appear if the email address entered is invalid. You can create your own .html page or omit this field. If omitted, the value in the <em>Invalid Email Address URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_http://EmailConfirmURL_</strong></td>
<td style="background-color: #effbf8;">The URL of the page that will appear when the user confirms their opt-in to your list by clicking a link in an email message just sent to them. If you customized the URL field, you should probably customize this one as well. You basically need a message that says something like "You are not QUITE subscribed yet.. please now check your email right now for the last step to confirm your subscription to our list!". You can create your own .html page with this message, or omit this field. If omitted the <em>Confirmation URL</em> field on the Announcement List edit page will be used instead.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>&lt;input type="hidden" name="emailit" value="1" /&gt;</strong></td>
<td style="background-color: #effbf8;">If you have this hidden input in the form, you will automatically receive a default email sent to <em>_MailingListName_</em>@example.com. You can then set this up as an auto-responder whenever someone signs up for the mailing list. Plus, you will also get a default email sent to unsubbed-<em>_MailingListName_</em>@example.com whenever somebody unsubscribes as well.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_Join Our Announcement List_</strong></td>
<td style="background-color: #effbf8;">This label can be changed to anything that doesn't contain the words "remove", "out", "unsub", "leave", or "delete," and will act as the subscribe button. Also if you're an HTML expert you can use an image for the submit button.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>_Remove from list_</strong></td>
<td style="background-color: #effbf8;">This will be the label on your "unsubscribe" button. It's not mandatory to have this button, but it's more convenient if your list members can unsubscribe over the web, without your intervention. The name of this button must include one of the following: "remove", "out", "unsub", "leave", or "delete". If it doesn't, it will act as though it is a subscribe button.</td>
</tr>
</tbody>
</table>
<span id="wordpress"></span>
<h2>A note for WordPress sites</h2>
<p>If your site uses <a href="/hc/en-us/articles/215525287-WordPress-overview">WordPress</a>, you must link to the <a href="http://codex.wordpress.org/Using_Permalinks">default "Ugly" permalink type</a> (of the form "http://example.com/?p=<em>N</em>") even if you use any of the "Pretty" permalinks instead. This is because the mailing list scripts automatically add parameters to the URLs which don't work with "Pretty" permalinks. If you edit a post or a page, you can find the post ID number in the URL line after the post= text. For example, you might see something like: http://example.com/wp-admin/post.php?post=3141?action="edit", so the post ID is "3141". In this example, you would use something like: http://example.com/?p=3141 as the URL of the page even if it also has a "Pretty" permalink like: http://example.com/mailing_list_unsubscribed. You may also create these pages outside WordPress to avoid the problems with permalinks.</p>
<span id="more_fields"></span>
<h2>Can I add more fields to the basic form?</h2>
<p>Yes. Any extra fields you add to your form are included in the notification email you get when somebody subscribes to your list. You can also customize that with these hidden fields:</p>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Input name</th>
<th bgcolor="#F2F2F2">Example</th>
<th bgcolor="#F2F2F2">Explanation</th>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>required</strong></td>
<td style="width: 40%; background-color: #effbf8;">&lt;input type=hidden name=required value="street1, city, state, zip, country"&gt;</td>
<td style="background-color: #effbf8;">A comma-separated list of fields your user is <strong>required</strong> to fill in in order to successfully submit the form.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>missingrequrl</strong></td>
<td style="background-color: #effbf8;">&lt;input type=hidden name=missingrequrl value="http://www.example.com/missingrequiredfields.html"&gt;</td>
<td style="background-color: #effbf8;">The URL to redirect to if somebody tries to submit a form without some of the required fields you specified via the "required" form element above. This URL will also get posted to it a variable called "missing" with a value like "field1,field2,field3" with all of the missing fields.</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>fieldorder</strong></td>
<td style="background-color: #effbf8;">&lt;input type=hidden name=fieldorder value="orgname, street1, city, state, zip, country"&gt;</td>
<td style="background-color: #effbf8;">A comma-separated list that tells you the order you'd like the fields to be reported to you in the email you receive. If you don't specify this, they will appear in random order (not necessarily the order they appear in your html form). If you do specify this value, you will ONLY receive the fields you list here (plus name and email address, which are always first).</td>
</tr>
<tr>
<td style="background-color: #effbf8;"><strong>req_address2</strong></td>
<td style="background-color: #effbf8;">&lt;input type=hidden name=req_address2 value=1 &gt;&lt;input name=address2&gt;</td>
<td style="background-color: #effbf8;">You can add a field to ensure that the user filling out the form fills it out with their correct email address. The user will need to type their email address once, then re-type it again to be certain it’s correct.</td>
</tr>
</tbody>
</table>
<span id="custom_urls"></span>
<h2>How do I display information from the form if I use custom URLs?</h2>
<p>If you use your own custom URLs in the 'optional' section of the form, you can still access some of the information submitted in the form. The DreamHost script now redirects to your URLs with the following variables:</p>
<ul>
<li><strong>address=user@example.com</strong></li>
<li><strong>name=Their+Name</strong></li>
<li><strong>code=#</strong></li>
</ul>
<p>Where the codes are as follows:</p>
<dl>
<dd>Address Successfully Subscribed: <strong>1</strong></dd>
<dd>Address Successfully Unsubscribed: <strong>2</strong></dd>
<dd>Address Successfully Mailed Confirmation Link: <strong>3</strong></dd>
<dd>Address Already on List: <strong>-1</strong></dd>
<dd>Address Not In List (when Unsubscribing): <strong>-2</strong></dd>
<dd>Invalid Email Address: <strong>-3</strong></dd>
<dd>Missing Required Field(s): <strong>-4</strong></dd>
<dd>Re-typed email doesn't match first: <strong>-5</strong></dd>
</dl>
<p>The following example reads the name and address entered on the form on a custom Subscribe URL response page:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;?php
$email = $_GET['address'];
$name = $_GET['name'];
?&gt;
Thanks for subscribing, &lt;?php echo $name; ?&gt; - we'll send our next newsletter to you at &lt;?php echo $email; ?&gt;!</pre>
</div>
<p>This example assumes you're using a PHP file and the name form field is required, otherwise you'd need to get a little fancier to display something else if the name field is blank.</p>
<p>Using a PHP conditional to check for data in the name field:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;?php
if ($name!="")
echo "$name"; ?&gt;

Thanks for subscribing&lt;?php if ($name!="") echo ", $name"; ?&gt; - we'll send our next newsletter to you at &lt;?php echo $email; ?&gt;!</pre>
</div>
<p>This way, the name field does not print if it contains nothing.</p>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>If you need to <strong>suppress</strong> these query variables (e.g., if you are using WordPress), you can do so by adding the nourlvars=1 query variable when adding someone to the list.</p>
</div>
</div>
<span id="images"></span>
<h2>How do I use images for my subscribe and unsubscribe submit buttons?</h2>
<p>If you don't want to use the standard submission buttons but would rather use your own images, you can do that with this code:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;input type="image" border="0" name="submit" src="<strong>subscribe.gif</strong>"&gt;
&lt;input type="image" border="0" name="unsub" src="<strong>unsubscribe.gif</strong>"&gt;</pre>
</div>
<p>instead of this:</p>
<div class="preboxcontainer">
<pre class="prebox">&lt;input type=submit name=submit value="<strong>Join Our Announcement List</strong>"&gt;
&lt;input type=submit name=unsub value="<strong>Unsubscribe</strong>"&gt;</pre>
</div>
<h2>See also</h2>
<ul>
<li><a href="/hc/en-us/articles/215683487-What-is-an-Announcement-mailing-list-">What is an Announcement mailing list?</a></li>
<li><a href="/hc/en-us/articles/215683497-How-do-I-configure-and-manage-an-Announcement-List-">How do I configure and manage an Announcement List?</a></li>
<li><a href="/hc/en-us/articles/215683527-How-do-I-add-users-to-an-Announcement-List-">How do I add users to an Announcement List?</a></li>
<li><a href="/hc/en-us/articles/215683577-How-do-I-send-an-Announcement-List-">How do I send an Announcement List?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214982098-How-do-I-import-export-a-subscriber-list-to-an-Announcement-List-">How do I import/export a subscriber list to an Announcement List?</a></li>
<li><a href="/hc/en-us/articles/215029188-How-do-I-create-a-Discussion-List-">How do I create a Discussion List?</a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="clearer"> </div>
