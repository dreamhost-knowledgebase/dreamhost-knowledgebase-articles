<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="Mail API commands">
<div class="altTitle">Mail API</div>
<div class="table-of-content container">
<ul class="simple">
<li><a class="reference internal" href="#mail-list_filters">mail-list_filters</a></li>
<li><a class="reference internal" href="#mail-add_filter">mail-add_filter</a></li>
<li><a class="reference internal" href="#mail-remove_filter">mail-remove_filter</a></li>
<li><a class="See also" href="#See_also">See also</a></li>
</ul>
</div>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>The following documentation is not officially supported by DreamHost. However, if you find any instructions in this article do not function as intended, it's possible it may be out of date. When in doubt, please contact support for further assistance.</p>
</div>
</div>
<p>The <strong>mail</strong> API module allows management of email filters.</p>
<h2>Commands</h2>
<h3><span id="mail-list_filters">mail-list_filters</span></h3>
<p>Dump a list of all email filter rules for all users on all accounts you have access to.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>mail-list_filters</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p>(none)</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br />account_id address rank filter filter_on action action_value contains stop <br />1 win@example.com 0 [list] subject move yes yes <br />1 win@example.com 1 spammer from delete yes yes <br />1 win@example.com 2 blah subject delete yes yes</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>(none)</p>
</td>
</tr>
</tbody>
</table>
<h3><span id="mail-add_filter">mail-add_filter</span></h3>
<p>Adds a new mail filter to an email address you have with DreamHost.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>mail-add_filter</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>address</strong> : The full email address to which you want to add the filter <br /><strong>filter_on</strong> : subject, from, to, cc, body, reply-to, headers <br /><strong>filter</strong> : What to filter for (case sensitive) <br /><strong>action</strong> : move,forward,delete,add_subject,forward_shell, and, or <br /><strong>action_value</strong> : The parameter for the action (Note: Optional if action is delete, and, or) <br /><strong>contains</strong> : yes or no (optional, default is yes) <br /><strong>stop</strong> : yes or no (optional, default is yes. Note: Must be yes if action is delete) <br /><strong>rank</strong> : The rank of the filter, indexes from 0. Lower means executed first (optional, default is the number of filters for the address) To create a complex multi-part filter, simply append an underscore to each of the above, followed by a number (starting at 1) for which step of the filter it is</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br />filter_added</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_address <br />invalid_address <br />no_filter_on <br />invalid_filter_on <br />no_filter_on_# <br />invalid_filter_on_# <br />no_filter <br />invalid_filter <br />no_filter_# <br />invalid_filter_# <br />no_action <br />invalid_action <br />no_action_# <br />invalid_action_# <br />inconsistent_boolean <br />no_action_value <br />no_action_value_# <br />invalid_stop <br />invalid_stop_# <br />inconsistent_stop <br />invalid_contains <br />invalid_contains_# <br />negative_rank <br />negative_rank_# <br />rank_too_high <br />inconsistent_rank <br />cannot_create_simple_and_complex_filter <br />incomplete_filter <br />invalid_folder <br />invalid_forward_address <br />invalid_shell_account</p>
</td>
</tr>
</tbody>
</table>
<h3><span id="mail-remove_filter">mail-remove_filter</span></h3>
<p>Remove a mail filter from an email address you have with DreamHost.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>mail-remove_filter</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>address</strong> : The full email address from which you want to remove the filter <br /><strong>filter_on</strong> : subject, from, to, cc, body, reply-to, headers <br /><strong>filter</strong>: What to filter for (case sensitive) <br /><strong>action</strong> : move,forward,delete,add_subject,forward_shell <br /><strong>action_value</strong> : The parameter for the action (Note: Optional if action is delete) <br /><strong>contains</strong> : yes or no <br /><strong>stop</strong> : yes or no <br /><strong>rank</strong> : The rank of the filter. Lower means executed first</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br />filter_removed</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_address <br />invalid_address <br />no_filter_on <br />invalid_filter_on <br />no_filter <br />invalid_filter <br />no_action <br />invalid_action <br />no_action_value <br />no_stop <br />invalid_stop <br />no_contains <br />invalid_contains <br />no_rank <br />rank_too_low <br />cannot_remove_subfilter <br />invalid_folder <br />invalid_forward_address <br />invalid_shell_account <br />no_such_filter <br />annot_remove_subfilter</p>
</td>
</tr>
</tbody>
</table>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="/hc/en-us/articles/217560167-Application-programming-interface-overview">Application programming interface overview</a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="clearer"> </div>
