<h2>Overview</h2>
<div class="solvvy-solution">
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>You must use a <a href="/hc/en-us/articles/215280058-Virtual-Private-Server-VPS-overview-">VPS</a>&nbsp;or <a href="https://help.dreamhost.com/hc/en-us/articles/215279658-Dedicated-server-overview" target="_self">Dedicated</a> server in order to run Composer due to the amount of resources it requires.</p>
</div>
</div>
<p>Composer is a dependency management tool for PHP projects. It allows you to declare the libraries your project requires and installs/updates them for you.</p>
<p>It is deployed as a PHAR (PHP Archive) file. Phar is already enabled by default on your DreamHost server. You can confirm by running the following command <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">via SSH</a>:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php -m | grep Phar</span>
Phar</pre>
</div>
<p>Some PHP projects are now suggesting that Composer be used to manage external libraries during installation. MediaWiki is one such example, <a href="https://www.mediawiki.org/w/index.php?title=Download_from_Git&amp;oldid=1657013#Fetch_external_libraries">stating in their installation instructions</a>:</p>
</div>
<h2><span id="Change_the_default_PHP_CLI_your_shell_uses">Change the default PHP CLI your shell uses</span></h2>
<div class="solvvy-solution">
<p>If you wish to have your commands default to a specific version of PHP, view the following article:</p>
<ul>
<li><a href="/hc/en-us/articles/214202148-How-do-I-change-the-PHP-version-my-shell-uses-">How do I change the PHP version my shell uses?</a></li>
</ul>
</div>
<h2><span id="Installing_Composer_2">Installing Composer official site</span></h2>
<div class="solvvy-solution">
<p>View the following link for further details:</p>
<ul>
<li><a href="https://getcomposer.org/doc/00-intro.md">Installing Composer</a></li>
</ul>
</div>
<h2><span id="Install_Locally">Install Locally</span></h2>
<div class="solvvy-solution">
<p>Installing Composer locally is good if you only have one project to maintain.</p>
<ol>
<li>Log into your server via <a href="/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</li>
<li>Navigate to your project directory.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~/<span class="code-highlight">&lt;path-to-your-project&gt;</span></span></pre>
</div>
<dl>
<dd><em>Replace &lt;path-to-your-project&gt; with the path to your project. If the project directory is named <span class="text-object">project</span> and it's on the domain <strong>example.com</strong>, the path would be <strong><span class="text-object">example.com/project</span></strong>.</em></dd>
</dl>
</li>
<li>Run the Composer installer.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">curl -sS https://getcomposer.org/installer | php</span></pre>
</div>
<dl>
<dd><em>If that does not work, try this instead</em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php -r "readfile('https://getcomposer.org/installer');" | php</span></pre>
</div>
</li>
<li>If successful, you'll see the following message:
<div class="preboxcontainer">
<pre class="prebox">#!/usr/bin/env php All settings correct for using Composer Downloading... Composer successfully installed to: /home/username/example.com/project/composer.phar 

Use it: php composer.phar
</pre>
</div>
<p>This downloads the <span class="text-object">composer.phar</span> file.</p>
</li>
</ol>
</div>
<h2><span id="Install_Globally">Install Globally</span></h2>
<div class="solvvy-solution">
<ol>
<li>Log into your server via <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</li>
<li>Navigate to your <a href="https://help.dreamhost.com/hc/en-us/articles/360001219231-Where-is-the-home-directory-#the-users-home-directory" target="_self">user's home directory</a>.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~</span></pre>
</div>
</li>
<li>Make a directory for installation. You can choose any valid directory name, but these instructions will assume the directory <span class="text-object">~/.php/composer</span>.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">mkdir -p ~/.php/composer</span></pre>
</div>
</li>
<li>Navigate to the installation directory.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~/.php/composer</span></pre>
</div>
</li>
<li>Run the Composer installer.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">curl -sS https://getcomposer.org/installer | php</span></pre>
</div>
<p>If that does not work, try this instead:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php -r "readfile('https://getcomposer.org/installer');" | php</span></pre>
</div>
</li>
<li>View the&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">creating and editing a file via SSH</a>&nbsp;article for instructions on how to edit your existing <span class="text-object">.bash_profile</span>. Then add the following path for the <span class="text-object">composer.phar</span> file.
<div class="preboxcontainer">
<pre class="prebox">export PATH=/home/<span class="code-highlight">username</span>/.php/composer:$PATH</pre>
</div>
<dl>
<dd><em>Replace <span class="text-object">username</span> with your shell username</em></dd>
</dl>
</li>
<li>Save the file and close it.</li>
<li>Run the following to update your <span class="text-object">.bash_profile</span>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Rename the composer file for easier handling.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">mv ~/.php/composer/composer.phar ~/.php/composer/composer</span></pre>
</div>
</li>
</ol>
</div>
<h2><span id="Using_Composer">Using Composer</span></h2>
<div class="solvvy-solution">
<p>If you installed Composer locally, then you would invoke Composer like this while in the project directory:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php composer.phar <span class="code-highlight">&lt;composer-command&gt;</span></span></pre>
</div>
<p>If you installed Composer globally, you should be able to invoke Composer this way:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">composer <span class="code-highlight">&lt;composer-command&gt;</span></span></pre>
</div>
<p>In either case, replace <span class="code">&lt;composer-command&gt;</span> with the composer command you want to run. Composer commands can be found listed in the <a href="https://getcomposer.org/doc/03-cli.md">Composer documentation</a>.</p>
</div>
<h2>Troubleshooting</h2>
<p>You may notice the following error when running composer:</p>
<p><strong>PHP Fatal error: Uncaught Error: Class 'Phar' not found</strong></p>
<p>Phar is already enabled by default, so this error usually means there are lines in your <span class="text-object">phprc</span> file that reference Phar which should be removed. First, check which version of PHP your Shell is using.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php -v</span></pre>
</div>
<p>Next, check the <span class="text-object">phprc</span> file for that version. For example, if your Shell is using PHP 7.4, run the following:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cat ~/.php/7.4/phprc</span></pre>
</div>
<p>If you see any lines mentioning Phar, <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH" target="_self">remove them</a>, then kill off any processes to update the file.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214200748-My-phprc-file-isn-t-updating" target="_self">My phprc file isn't updating</a></li>
</ul>
<h2><span id="See_also">See also</span></h2>
<div class="solvvy-hidden">
<ul>
<li><a href="/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
<li><a href="/hc/en-us/articles/214200688-php-ini-overview">php.ini overview</a></li>
<li><a href="https://getcomposer.org/doc/00-intro.md">Installing Composer</a></li>
<li><a href="https://github.com/composer/composer">Composer at GitHub</a></li>
</ul>
</div>
