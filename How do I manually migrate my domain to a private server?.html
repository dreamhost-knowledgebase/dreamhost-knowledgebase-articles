<p>This article explains how to move a domain from shared server to a private server, either a <a href="/hc/en-us/articles/215280058-Virtual-Private-Server-overview-VPS-">Virtual Private Server</a> (VPS) or <a href="/hc/en-us/articles/215279658-Dedicated-server-overview">Dedicated</a> Server manually by copying the domain data from shared hosting to the private server and then configuring the new user.</p>
<h2><span id="How_to_manually_move_a_domain_by_copying_your_files">How to manually move a domain by copying your files</span></h2>
<p>You can manually migrate your web files from your shared server to your private server in two ways:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">How do I use SFTP to connect to my server?</a></li>
<li><a href="/hc/en-us/articles/216661778-Rsync">rsync</a></li>
</ul>
<h3><span id="Manually_migrating_files_via_FTP">Manually migrating files via FTP</span></h3>
<p>If you have less than 1GB of files to move, it may be easier to use <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027#FTP_security">SFTP</a>:</p>
<ol>
<li>Connect to your shared web server using instructions from the <a href="https://help.dreamhost.com/hc/en-us/articles/115000675027-FTP-overview-and-credentials">FTP</a> article.</li>
<li>Download all content from your website to your local computer.</li>
<li>Create a new user on the private server. Visit the Enabling Shell Access article for details.</li>
<li>Connect to your new server.
<ul>
<li>The hostname for a VPS is psXXXX.dreamhostps.com.</li>
<li>The hostname for a dedicated server is dsXXXX.dreamservers.com.</li>
</ul>
</li>
<li>Use the new username and password that was created for the user on the private server.</li>
<li>Upload the website files for your domain to the private server into the domain’s directory.</li>
</ol>
<h3><span id="Manually_migrating_files_via_rsync">Manually migrating files via rsync</span></h3>
<ol>
<li>Create a new user on the private server. Visit the <a href="/hc/en-us/articles/216385837-Enabling-Shell-access">Enabling Shell Access</a> article for details on how to create this user.</li>
<li>Find the full path to your new private server and its new user.
<ul>
<li>For example, if your private server is named ps9123456 and the new user you created is named user2, the path to the private server is:</li>
</ul>
<dl>
<dd><strong>user2@ps9123456.dreamhostps.com:/home/user2</strong></dd>
</dl>
<dl>
<dd><em>With this information, you are ready to run the following rsync command.</em></dd>
</dl>
</li>
<li>Log into your shared server via <a href="/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</li>
<li>Run the following command to copy your data from your shared user to your new private server user. Be sure to change '/example.com' to your actual domain’s web directory:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">rsync -e ssh -av /home/shareduser/example.com user2@ps9123456.dreamhostps.com:/home/user2/</span></pre>
</div>
<em>After you run the command, you are prompted for the private server user's password.</em></li>
<li>Click Enter to continue with the rsync.</li>
</ol>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>There are three parts to this command:</p>
<ul>
<li>rsync -e ssh -av</li>
<li>/path to shared domain folder</li>
<li>/path to private server user</li>
</ul>
<p>DO NOT put a trailing slash after the path to the shared domain folder. Doing so only copies the contents inside this folder and not the folder itself.</p>
</div>
</div>
<p>Once complete, your shared domain’s folder and all of its contents are copied to your private server's user.</p>
<p>The final step is to adjust which username is assigned to the domain in your panel. View the <a href="/hc/en-us/articles/215945947-How-do-I-move-a-single-domain-from-Shared-hosting-to-a-private-server-">Moving a single domain from shared hosting to a private server</a> article for instructions. There are two differences this time, however:</p>
<ul>
<li>There is no need to create a user, as it already exists. Just select the private server user from the dropdown menu which you’ve already created.</li>
<li>Leave the checkbox ‘Move files to a new user?’ disabled.</li>
</ul>
<h2><span id="DNS_propagation_after_you_migrate_from_a_shared_server_to_a_private_server">DNS propagation after you migrate from a shared server to a private server</span></h2>
<p>When you move your domain from a shared server to a private server, the IP of your site changes. If your domain is using DreamHost’s <a href="/hc/en-us/articles/216385467-Nameservers-overview">nameservers</a>, then the domain’s IP is updated automatically.</p>
<p>If your domain is not using DreamHost’s nameservers, you’ll need to update your DNS records manually at the company where your nameservers are hosted.</p>
<p>You can see all of the DNS records that are set up for any site you host at DreamHost in your panel. Please note that after any DNS change, the records must propagate online.</p>
<p>Visit the following articles for more information:</p>
<ul>
<li><a href="/hc/en-us/articles/215413857-DreamHost-DNS-overview">DNS overview</a></li>
<li><a href="/hc/en-us/articles/215840248-DNS-propagation-overview">DNS propagation</a></li>
</ul>
<h2><span id="See_also">See also</span></h2>
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215840248-DNS-propagation-overview">DNS propagation overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215945947-How-do-I-move-a-single-domain-from-Shared-hosting-to-a-private-server-">How do I move a single domain from Shared hosting to a private server?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215945717-How-do-I-add-a-user-to-my-private-server-">How do I add a user to my private server?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215280048-How-do-I-move-users-and-domains-to-my-private-server-">How do I move users and domains to my private server?</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a href="http://www.ee.surrey.ac.uk/Teaching/Unix/">UNIX Tutorial for Beginners</a></li>
</ul>
