<dl>
<dd><img src="https://objects-us-west-1.dream.io/kbimages/images/Mediawiki.fw.png" alt="Mediawiki.fw.png" width="149" height="149" /></dd>
</dl>
<p>MediaWiki is a program you can download and use to create a wiki site such as <a href="http://www.wikipedia.org/">Wikipedia</a>. The application is great for creating knowledge base pages just like an encyclopedia.</p>
<p>For more information about MediaWiki, visit MediaWiki's official site:</p>
<ul>
<li><a href="http://www.MediaWiki.org/wiki/MediaWiki">MediaWiki.org</a>.</li>
</ul>
<p>MediaWiki is offered as a <a href="/hc/en-us/articles/215089938-What-One-Click-Installs-does-DreamHost-offer-">One-Click Install</a> in your DreamHost panel.</p>
<h2><span id="Installing_MediaWiki">Installing MediaWiki</span></h2>
<p>The easiest way to install is to use the <a href="/hc/en-us/articles/215915837-How-do-I-install-a-One-Click-Install-">One-Click Install</a> feature in your panel which installs the software for you.</p>
<p>The other option is to install it manually which requires you to download the files yourself and upload them to your web server.</p>
<p>Detailed instructions to manually install MediaWiki are provided in the following article:</p>
<ul>
<li><a href="http://www.MediaWiki.org/wiki/Manual:Installation_guide#Summarized_installation_guide">MediaWiki Manual Installation Guide</a></li>
</ul>
<dl>
<dd></dd>
<dd></dd>
</dl>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Both installation methods install the same files and configurations. However, if you choose to install manually, you'll have the option to install the latest version of MediaWiki which DreamHost does not currently offer in the panel.</p>
</div>
</div>
<h2><span id="Extensions">Extensions</span></h2>
<p>MediaWiki offers many different types of extensions which you can use to add further functionality and customization to your site. Visit the following page for further details:</p>
<ul>
<li><a href="http://www.MediaWiki.org/wiki/Category:Extensions">MediaWiki Extensions</a></li>
</ul>
<h2><span id="Google_Analytics">Google Analytics</span></h2>
<p>You can also add Google Analytics on your MediaWiki if you wish. Visit the following page for detailed instructions:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Extension:Google_Analytics_Integration">Google Analytics integration</a></li>
</ul>
<h2><span id="Running_maintenance_scripts">Running maintenance scripts</span></h2>
<p>In the MediaWiki root install, there is a subdirectory named /maintenance which includes various scripts you can run on your MediaWiki application. In order to run the PHP scripts, you must <a href="/hc/en-us/articles/216385837-Enabling-Shell-access">enable shell access</a> on your domain.</p>
<p>In order to run the scripts, you must enter ‘php’ before the filename. For example, run the following command if you wish to run the script eval.php in the maintenance directory:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php eval.php</span></pre>
</div>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>If you simply type ‘php’, it uses the default version on the server. However, you can explicitly choose any version by using the following instead:</p>
<ul>
<li>/usr/local/php55/bin/php</li>
<li>/usr/local/php56/bin/php</li>
<li>/usr/local/php70/bin/php</li>
</ul>
</div>
</div>
<p>To learn more about the individual scripts, visit the following page:</p>
<ul>
<li><a href="http://www.MediaWiki.org/wiki/Manual:Maintenance_scripts">Maintenance scripts</a></li>
</ul>
<h2><span id="Thumbnail_problems">Thumbnail problems</span></h2>
<p>MediaWiki can occasionally have problems generating image thumbnails, such as returning corrupted images or the error message "Error creating thumbnail". A common cause of this is not enough memory.</p>
<p>If you upload a large image and see "Error creating thumbnail" where a thumbnail should be, try adding the following to your LocalSettings.php file in your site’s primary directory:</p>
<div class="preboxcontainer">
<pre class="prebox">$wgMaxShellMemory = 524288;
</pre>
</div>
<h2><span id="SVG_images">SVG images</span></h2>
<p>For best results in generating thumbnails of SVG images, you may wish to install librsvg.</p>
<dl>
<dd></dd>
<dd></dd>
</dl>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>The SVG installation process is not supported and is recommended only for advanced users. More information can be found on the following page:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:Image_administration#SVG">MediaWiki Manual:Image administration – SVG</a></li>
</ul>
</div>
</div>
<h2><span id="Email">Email</span></h2>
<h3><span id="Domain_spoofing">Domain spoofing</span></h3>
<p>Add the following to your LocalSettings.php file:</p>
<div class="preboxcontainer">
<pre class="prebox">$wgUserEmailUseReplyTo = true;
</pre>
</div>
<p>This spoofs the domain so that the sending user's email is in a Reply-To header instead of the From header. Otherwise, the email that users try to send each other through Special:EmailUser on your wiki will not be delivered.</p>
<h3><span id="Notifications">Notifications</span></h3>
<p>Given the <a href="/hc/en-us/articles/215730467-SMTP-quota-overview">SMTP quota</a>, you need to be careful if you enable <a href="http://www.mediawiki.org/wiki/Manual:$wgEnotifWatchlist">$wgEnotifWatchlist</a>.</p>
<p>If a page is watchlisted by 100 users who have that user preference enabled, then a change to that page uses up your quota for an hour, if you are on shared hosting.</p>
<h3><span id="Blocking_MediaWiki_spam">Blocking MediaWiki spam</span></h3>
<dl>
<dt><a href="http://www.mediawiki.org/wiki/Manual:Combating_spam">Combating SPAM</a></dt>
</dl>
<dl>
<dd>Provides steps you can take to combat SPAM on your website.</dd>
</dl>
<dl>
<dt><a href="http://meta.wikimedia.org/wiki/Wiki_spam">MediaWiki Wiki Spam</a></dt>
</dl>
<dl>
<dd>Description of what wiki spam is, and instructions on how any user can help tackle the wiki-spam problem (not just administrators). Not all of which is obvious, so it's worthwhile for administrators to read through this too, as you might wish to refer your wiki users to this.</dd>
</dl>
<dl>
<dt><a href="http://www.mediawiki.org/wiki/CAPTCHA">CAPTCHA</a></dt>
</dl>
<dl>
<dd>Enabling a Captcha on any form will help to reduce spam.</dd>
</dl>
<dl>
<dt><a href="http://www.mediawiki.org/wiki/Manual:Preventing_access#Restrict_account_creation">Restrict account creation</a></dt>
</dl>
<dl>
<dd>By default, anyone can create an account on your wiki. However you can restrict who has the ability to create accounts.</dd>
</dl>
<dl>
<dt><a href="http://www.mediawiki.org/wiki/Manual_talk:User_rights">User rights</a></dt>
</dl>
<dl>
<dd>You also have control over user rights. You can <a href="http://www.mediawiki.org/wiki/Manual:$wgGroupPermissions">disable non-user edits</a> with this feature.</dd>
</dl>
<h2><span id="Caching">Caching</span></h2>
<p>Caching your site can improve performance. There are several ways to cache your data using MediaWiki. View the following articles for further information:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:Cache">MediaWiki Cache</a></li>
<li><a href="https://www.mediawiki.org/wiki/Manual:File_cache">File cache</a></li>
</ul>
<h2><span id="Unicode_normalization">Unicode normalization</span></h2>
<p>To use the intl PECL extension for Unicode normalization, follow this guide on creating a <a href="/hc/en-us/articles/214894037-How-do-I-create-a-phprc-file-via-FTP-">phprc file</a>. Once added, you can add the following line to it:</p>
<div class="preboxcontainer">
<pre class="prebox">extension = intl.so
</pre>
</div>
<h2><span id="Enabling_uploads">Enabling uploads</span></h2>
<p>View the following guide for instructions on how to enable file uploads:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:Configuring_file_uploads">Configuring file uploads</a></li>
</ul>
<h2><span id="Backing_up">Backing up</span></h2>
<p>View the following guide for instructions on how to backup your data:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:Backing_up_a_wiki">Backing up MediaWiki</a></li>
</ul>
<p>Also view the DreamHost guide for further instructions:</p>
<ul>
<li><a href="/hc/en-us/articles/215089918-How-do-I-backup-my-entire-account-">Backup</a></li>
</ul>
<h2><span id="Security">Security</span></h2>
<h3><span id="Passwords_and_HTTPS">Passwords and HTTPS</span></h3>
<p>The <a href="/hc/en-us/articles/215089938-What-One-Click-Installs-does-DreamHost-offer-">One-Click Install</a> uses a form on an HTTP web page to take your password. This means that your password will go over the network in clear text. To use HTTPS, you must enable <a href="/hc/en-us/articles/216041537-Secure-Hosting-overview">Secure Hosting</a>. Once an SSL certificate is added to your domain, you can force HTTPS in any request by adding code to an .htaccess file. View the following article for further details:</p>
<ul>
<li><a style="background-color: #ffffff;" href="/hc/en-us/articles/215747758-How-do-I-force-my-site-to-load-securely-with-an-htaccess-file-">Forcing HTTPS</a></li>
</ul>
<h3><span id="LocalSettings.php_permissions">LocalSettings.php permissions</span></h3>
<p>LocalSettings.php has your database login information in it, including the database username and password. After you move the LocalSettings.php file to your root directory, have a look at its permissions.</p>
<p>You should update the permissions on that file to 640 or 600. This can be done by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">chmod 640 LocalSettings.php</span>
</pre>
</div>
<p>This makes the file only writeable for the owner while the group can still read it. However the most secure option is to mark the file as only readable/writable by the owner:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">chmod 600 LocalSettings.php</span>
</pre>
</div>
<p>This way, other people on the same server will not be able to steal your MySQL password from the file. View the following article for further details on permissions:</p>
<ul>
<li><a style="background-color: #ffffff;" href="/hc/en-us/articles/214750848-UNIX-commands-Working-with-files">Unix File Permissions</a></li>
</ul>
<h3><span id="Move_database_credentials_to_another_file">Move database credentials to another file</span></h3>
<p>Another good security idea is to set up a separate PHP file stored in your user's directory. This file will store your credentials and will pass them as variables. In this setup, your LocalSettings.php file would link to this new file. For example:</p>
<ol>
<li>In your user's directory (not the domain's directory) create a new directory called "external_includes"</li>
<li>In this new folder, create a file called "database_info.php".</li>
<li>The full path to this new file would be:
<div class="preboxcontainer">
<pre class="prebox">/home/[yourusername]/external_includes/database_info.php</pre>
</div>
</li>
<li>The file would include the following (<a href="https://help.dreamhost.com/hc/en-us/articles/221610868-Finding-your-database-login-credentials">fill in your true values in the quotes</a>):
<div class="preboxcontainer">
<pre class="prebox">&lt;?php
 $database_server = "mysql.example.com"; 
 $database_name   = "databasename"; 
 $database_user   = "username";
 $database_pw     = "password";
 ?&gt;
</pre>
</div>
</li>
<li>Next, remove the current database credentials in your LocalSettings.php file.</li>
<li>Replace those lines with the following:
<div class="preboxcontainer">
<pre class="prebox"># enhanced DB security
 require_once ("/home/[yourusername]/external_includes/database_info.php");
 
 $wgDBserver     = $database_server;
 $wgDBname       = $database_name;
 $wgDBuser       = $database_user;
 $wgDBpassword   = $database_pw;
 
 # DB variables not security related - leave these alone from how when you set up your wiki
 $wgDBprefix     = "wiki_";
 $wgDBtype       = "mysql";
</pre>
</div>
</li>
</ol>
<p>This way, even if someone is able to read your LocalSettings file, it still won't reveal any credentials.</p>
<h2><span id="Licensing_settings">Licensing settings</span></h2>
<p>You have the option of which licensing to use. View the following article for details:</p>
<ul>
<li><a href="https://wiki.creativecommons.org/GFDL_versus_CC-by-sa">GFDL versus CC</a></li>
</ul>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Wikipedia uses GFDL. If you want content to be able to be reused in Wikipedia and other GFDL-projects, then you must use GFDL (or multi-license to use both). In general, if there are other projects you want to work with, you should have compatible licensing.</p>
</div>
</div>
<h2><span id="Troubleshooting">Troubleshooting</span></h2>
<h3><span id="Enable_debugging">Enable debugging</span></h3>
<p>You can enable debugging by adding lines at the bottom of your <a href="http://www.mediawiki.org/wiki/Manual:LocalSettings.php">LocalSettings.php file</a>. By enabling this, you are provided detailed debugging information to help isolate the cause.</p>
<p>View the following article for further details:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:How_to_debug">How to debug</a></li>
</ul>
<p>Once you finish troubleshooting your install, you should disable your debugging settings.</p>
<h3><span id="Short_URLs">Short URLs</span></h3>
<p>You can shorten the URLs to appear more user friendly. For example, you can change:</p>
<dl>
<dd><strong>Original URL example: example.com/w/index.php?title=Main_Page</strong>
<p>to</p>
<strong>Shortened URL example: example.com/wiki/Main_Page</strong></dd>
</dl>
<p>View the following article for further instructions:</p>
<ul>
<li><a href="http://www.mediawiki.org/wiki/Manual:Short_URL">Short URLs</a></li>
</ul>
<h2><span id="See_also">See also</span></h2>
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215915837-How-do-I-install-a-One-Click-Install-">How do I install a One-Click Install?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215089938-What-One-Click-Installs-does-DreamHost-offer-">What One-Click Installs does DreamHost offer?</a></li>
<li><a style="background-color: #ffffff;" href="https://help.dreamhost.com/hc/en-us/articles/217292807-Upgrading-MediaWiki">Upgrading MediaWiki</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a class="extiw" title="mw:MediaWiki" href="http://www.mediawiki.org/wiki/MediaWiki">MediaWiki's official website</a></li>
<li><a href="https://meta.wikimedia.org/wiki/Help:Editing">MetaWikipedia:Help:Editing</a> – MediaWiki markup reference</li>
<li><a href="http://www.MediaWiki.org/wiki/Category:Extensions">MediaWiki Extensions</a></li>
<li><a href="http://www.MediaWiki.org/wiki/Manual:Maintenance_scripts">Maintenance scripts</a></li>
<li><a href="http://www.mediawiki.org/wiki/Manual:Combating_spam">Combating SPAM</a></li>
<li><a href="http://www.mediawiki.org/wiki/Manual:Cache">MediaWiki Cache</a></li>
<li><a href="http://www.mediawiki.org/wiki/Manual:LocalSettings.php">LocalSettings.php file</a></li>
<li><a href="http://www.mediawiki.org/wiki/Manual:How_to_debug">How to debug</a></li>
</ul>
