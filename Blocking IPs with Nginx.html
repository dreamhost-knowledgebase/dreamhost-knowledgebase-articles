<h2><span id="How_to_block_IPs">How to block IPs</span></h2>
<div class="solvvy-solution">
<p>Follow these steps to block an IP address.</p>
<ol>
<li>View the <a href="/hc/en-us/articles/216455077-Nginx-configuration-file-locations">Nginx configuration file locations</a>&nbsp;article&nbsp;to create your local <span class="text-object">/nginx/example.com</span> directory.</li>
<li>Create a file named <span class="text-object">access.conf</span> in this <span class="text-object">/nginx/example.com</span> directory.</li>
<li>Add the contents from the following sections.</li>
<li>Make sure to <a href="/hc/en-us/articles/216454967-How-to-reload-and-restart-Nginx-Dedicated-servers-only-">reload Nginx</a> for the changes to take effect.</li>
</ol>
</div>
<h2><span id="Blocking_an_IP_from_hitting_your_site">Blocking an IP from hitting your site</span></h2>
<div class="solvvy-solution">
<div class="preboxcontainer">
<pre class="prebox">location / {
   deny 1.2.3.4;
 }
</pre>
</div>
<dl>
<dd><em>This blocks the IP address of <code>1.2.3.4</code> from accessing your site entirely.</em></dd>
</dl>
</div>
<h2><span id="Blocking_an_IP_from_hitting_a_subdirectory">Blocking an IP from hitting a subdirectory</span></h2>
<div class="solvvy-solution">
<div class="preboxcontainer">
<pre class="prebox">location /subdirectory/ {
   deny 1.2.3.4;
 }
</pre>
</div>
</div>
<h2><span id="Allowing_a_single_IP_while_blocking_all_others">Allowing a single IP while blocking all others</span></h2>
<div class="solvvy-solution">
<p>If you want to block access to all IPs while allowing a specific IP to still access your site, use this:</p>
<div class="preboxcontainer">
<pre class="prebox">location / {
   allow 9.8.7.6;
   deny all;
 }
</pre>
</div>
<dl>
<dd><em>This may be helpful if you're working on your site and do not want anyone but you to view it.</em></dd>
</dl>
</div>
<h2><span id="Combining_rules">Combining rules</span></h2>
<div class="solvvy-solution">
<p>You can also create and combine multiple sets of these rules in your <code>access.conf</code> file:</p>
<div class="preboxcontainer">
<pre class="prebox">location /subdir {
   allow 1.2.3.4;
   deny all;
 }

 location / {
   deny all;
 }
</pre>
</div>
<dl>
<dd><em>The above allows <code>1.2.3.4</code> to <strong>only</strong> browse the subdirectory named <span class="text-object">/subdir</span>. All other IPs are blocked from everywhere in your site.</em></dd>
</dl>
<p>View the following page for further details:</p>
<ul>
<li><a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#location">http://nginx.org/en/docs/http/ngx_http_core_module.html#location</a></li>
</ul>
</div>
<h2>See also</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216431827-Nginx-overview">Nginx overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
</ul>
</div>
