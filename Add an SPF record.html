<h2 id="h_01HRTGFFK93H4NKX041VAWYAF4">Overview</h2>
<div class="solvvy-solution">
<p>This article describes the default DreamHost SPF record and how you can adjust it.</p>
<div class="notebox-note">
<p>If you are not using DreamHost <a href="https://help.dreamhost.com/hc/en-us/articles/216385467-Nameservers-overview">nameservers</a>, you must set up the SPF records with the current mail DNS provider instead.</p>
</div>
</div>
<h2 id="h_01HRTGFFK927HCP6T5MYZ7430Q">Do I need to add SPF manually?</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>If you're using <a href="/hc/en-us/articles/360028389972" target="_self" rel="undefined">Google Workspace</a>, you cannot update the SPF record. The field remains uneditable.</p>
</div>
<p>DreamHost automatically adds DreamHost's SPF records to your site. You only need to manually add an SPF record if you are also sending email through a third party. For example, you could also send mail through Google or Mailchimp. If you are sending email through services such as those AND also sending email from DreamHost, you'll need to add a custom SPF record that contains both mail servers.</p>
<p>View the following article for further details:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216107737#dreamhost-spf-records">SPF overview</a></li>
</ul>
</div>
<h2 id="h_01HRTGFFK9TK6F9CQTNKAS0EWT">Adding an SPF record</h2>
<div class="solvvy-solution">
<div class="notebox-note">
<p>You can only have a single SPF record. If you need to send from multiple servers, make sure to combine them all within the same SPF record.</p>
</div>
<p>The following example assumes you're sending email from Google and DreamHost, where the custom Google record AND DreamHost's SPF are added.</p>
<div class="preboxcontainer">
<pre class="prebox">v=spf1 mx include:netblocks.dreamhost.com include:relay.mailchannels.net include:_spf.google.com -all</pre>
</div>
<ol>
<li>Navigate to the&nbsp;<a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=domain.dashboard#!/grid-view" target="_blank" rel="noopener noreferrer">Manage Websites</a>&nbsp;page.</li>
<li>Open the <span class="text-link">DNS Settings</span> page:
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-manage-websites-dns-settings.png" alt="DNS Settings" width="222" height="205" /></dd>
</dl>
<ul>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">Grid view</a>, click the 'vertical 3 dots' button under your domain. From the popout menu, click the <span class="text-link">DNS Settings</span>&nbsp;link.</li>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">List view</a>, click the 'vertical 3 dots' button to the right of your domain.&nbsp;From the popout menu, click the <span class="text-link">DNS Settings</span>&nbsp;link.
<dl>
<dd><em>The domain's DNS records display.</em></dd>
</dl>
</li>
</ul>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-button-add-record.png" alt="Add Record button" width="139" height="43" /></dd>
</dl>
</li>
<li>Click the&nbsp;<strong>Add Record</strong> button.</li>
<li>Hover over the <span class="text-section">TXT Record</span> section and click the <span class="text-link">ADD</span> link.</li>
<li>Enter the following:
<ul>
<li><strong>Host</strong>: This field can be anything. Very often it’s left blank.</li>
<li><strong>TXT Value *</strong>: Enter the SPF record value of this record to point to.
<div class="notebox-note">
<p>You do not need to add the domain name in the <span class="text-object">Host</span> field.</p>
</div>
</li>
</ul>
</li>
<li>Click the <strong>Add Record</strong>&nbsp;button to save.</li>
</ol>
<p>Allow up to 6 hours for the DNS record to <a href="/hc/en-us/articles/215840248-DNS-propagation-overview">propagate</a> after you save the record.</p>
<div class="notebox-note">
<ul>
<li>Keep in mind that SPF treats subdomains (such as <strong>sub.example.com</strong>) separately, thus you may wish to specify SPF records both for <strong>example.com</strong> and any hosts such as <strong>yourhost.example.com</strong>. See SPF subdomain FAQ&nbsp;for more information.</li>
<li>Wildcard for TXT records are not supported by DreamHost. This is generally discouraged as well as stated in the following article: <a href="https://datatracker.ietf.org/doc/html/rfc4408#section-3.1.5">RFC 4408 §3.1.5</a>.</li>
</ul>
</div>
</div>
<h2 id="h_01HRTGFFK9ABY593JSCVM3Z8XJ">Editing an SPF record</h2>
<div class="solvvy-solution">
<div class="notebox-note">
<p>You cannot edit DreamHost DNS-email SPF records (shown <em>without</em> a pencil icon next to it), which are added by default. If you need to edit a DreamHost DNS-email SPF record, you should instead add a new one (described in the previous section).</p>
</div>
<p>To edit an SPF record:</p>
<ol>
<li>Navigate to the&nbsp;<a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=domain.dashboard#!/grid-view" target="_blank" rel="noopener noreferrer">Manage Websites</a>&nbsp;page.</li>
<li>Open the <span class="text-link">DNS Settings</span> page:
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-manage-websites-dns-settings.png" alt="DNS Settings" width="222" height="205" /></dd>
</dl>
<ul>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">Grid view</a>, click the 'vertical 3 dots' button under your domain. From the popout menu, click the <span class="text-link">DNS Settings</span>&nbsp;link.</li>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">List view</a>, click the 'vertical 3 dots' button to the right of your domain.&nbsp;From the popout menu, click the <span class="text-link">DNS Settings</span>&nbsp;link.
<dl>
<dd><em>The domain's DNS records display.</em></dd>
</dl>
</li>
</ul>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-websites-edit-spf-records-01.png" alt="panel-websites-edit-spf-records-01.png" width="495" height="67" /></dd>
</dl>
</li>
<li>Scroll down to a <span class="text-object">TXT</span> record and click the pencil icon on the right.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-websites-edit-spf-records-02.png" alt="panel-websites-edit-spf-records-02.png" width="691" height="200" /></dd>
</dl>
</li>
<li>Edit the <span class="text-object">TXT Value</span> box to adjust the SPF value and then click the <strong>Save</strong> button when finished.</li>
</ol>
</div>
<h2 id="h_01HRTGFFKAQ1APBN7GZFR73MKH"><span id="Advanced_SPF">Advanced SPF</span></h2>
<div class="solvvy-solution">
<p>An advanced SPF record includes more than just the default mail servers: it also has information on all other servers that send mail for the domain. The following is an example of an advanced SPF record:</p>
<div class="preboxcontainer">
<pre class="prebox">v=spf1 <span style="color: #fc9595;">ip4:321.321.321.321</span> <span style="color: cyan;">include:_spf.google.com</span> <span style="color: #00ff7b;">include:shaw.ca</span> <span style="color: #ffc78f;">mx</span> ~<span style="color: #e9d4ff;">all</span>
</pre>
</div>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Tag</th>
<th bgcolor="#F2F2F2">Description</th>
</tr>
<tr>
<td style="width: 25%;">
<dl>
<dd>v=spf1</dd>
</dl>
</td>
<td>
<dl>
<dd>Identifies this DNS record as an SPF version 1 record.</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>ip4:321.321.321.321</dd>
</dl>
</td>
<td>
<dl>
<dd>IP address of a specific server, such as your web server for scripts that send mail directly from that server. You can get your web server IP from the <span class="panel-page">Manage Websites</span> page. View the <a href="https://help.dreamhost.com/hc/en-us/articles/215413857-DreamHost-DNS-overview">DNS article</a> for further details.</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>include:_spf.google.com</dd>
</dl>
</td>
<td>
<dl>
<dd>Includes all of the SPF records from Google, which in this example is where the domain's mail service is hosted.</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>include:shaw.ca</dd>
</dl>
</td>
<td>
<dl>
<dd>Includes all the SPF records for Shaw Cable in Canada, an ISP. In this example, mail from the domain is sometimes sent through the ISP's SMTP server.</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>mx</dd>
</dl>
</td>
<td>
<dl>
<dd>Includes all of the MX servers the domain uses, listed in the domain's MX DNS records.</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>-all</dd>
</dl>
</td>
<td>
<dl>
<dd>Says all other servers are not authorized, and only mail sent from the listed servers will 'pass'.</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl>
<dt>
<h3 id="h_01HRTGFFKAVBY3BKJDN3X4ZFKE">?all (question mark), -all (dash), or ~all (tilde)</h3>
</dt>
</dl>
<p>The <a href="https://en.wikipedia.org/wiki/Sender_Policy_Framework">symbol</a> before "all" indicates how strict the SPF record is enforced.</p>
<ul>
<li>?, question mark, makes the whole record inactive, as though the domain had no SPF record at all.</li>
<li>-, dash, makes the record strict, and any mail from servers not listed will be marked "fail" and may be marked as spam or rejected entirely.</li>
<li>~, tilde, is between the other two options in strictness. Any mail from servers not listed will be marked "softfail". While intended for testing, it is recommended to be used to avoid delivery issues as noted in <a href="https://support.google.com/a/answer/33786?hl=en">this</a> article.</li>
</ul>
<p>The following table shows SPF information for various mail providers that are in popular use:</p>
<table class="wikitable">
<tbody>
<tr>
<th bgcolor="#F2F2F2">Provider</th>
<th bgcolor="#F2F2F2">SPF Information</th>
</tr>
<tr>
<td style="width: 25%;">
<dl>
<dd><a href="https://help.campaignmonitor.com/email-authentication">Campaign Monitor</a></dd>
</dl>
</td>
<td>
<dl>
<dd>include:cmail1.com</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd><a href="https://knowledgebase.constantcontact.com/articles/KnowledgeBase/5865-overview-of-what-is-involved-in-the-authentication-process">Constant Contact</a></dd>
</dl>
</td>
<td>
<dl>
<dd>include:spf.constantcontact.com</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>Freshbooks</dd>
</dl>
</td>
<td>
<dl>
<dd>include:_spf.freshbooks.com</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd><a href="https://support.google.com/a/answer/33786?hl=en">Google</a></dd>
</dl>
</td>
<td>
<dl>
<dd>include:_spf.google.com</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>Hostgator</dd>
</dl>
</td>
<td>
<dl>
<dd>include:websitewelcome.com</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd><a href="https://mailchimp.com/help/set-up-email-domain-authentication/">MailChimp</a></dd>
</dl>
</td>
<td>
<dl>
<dd>include:servers.mcsv.net</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>Microsoft/Hotmail</dd>
</dl>
</td>
<td>
<dl>
<dd>N/A (uses SenderID)</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>Shaw Communications Ltd.</dd>
</dl>
</td>
<td>
<dl>
<dd>include:shaw.ca</dd>
</dl>
</td>
</tr>
<tr>
<td>
<dl>
<dd>Telus</dd>
</dl>
</td>
<td>
<dl>
<dd>include:telus.net</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01HRTGFFKACSAS7TAQ34RZT0J3">See also</h2>
<div class="solvvy-hidden">
<ul>
<li><a style="background-color: #ffffff;" href="https://help.dreamhost.com/hc/en-us/articles/216107737-SPF-overview">SPF overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214694348-Basic-DNS-records">Basic DNS records</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215840248-DNS-propagation-overview">DNS propagation overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215413857-DreamHost-DNS-overview">DreamHost DNS overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360035516812-Adding-custom-DNS-records">Adding custom DNS records</a></li>
</ul>
</div>
