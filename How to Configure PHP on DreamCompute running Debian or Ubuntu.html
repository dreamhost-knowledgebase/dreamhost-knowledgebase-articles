<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="how-to-configure-php-on-dreamcompute-running-debian-or-ubuntu">
<p>PHP is a popular server-side scripting language used to build websites and other backend functionality. PHP is an important part of LAMP (Linux, Apache, MySQL, PHP) stacks as well as other AMP stacks.</p>
<p>This article assumes you are running a Debian or Ubuntu-based instance. Visit the following link to view current versions of PHP:</p>
<ul>
<li><a href="http://php.net/supported-versions.php">http://php.net/supported-versions.php</a></li>
</ul>
<div id="installing-php">
<h2>Installing PHP (default version)</h2>
<p>PHP comes in different packages depending on what you specifically need to use it for. You can choose to install one or more of these packages to suite your needs, but the following command installs the most common and useful packages to get moving with PHP right away.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install php libapache2-mod-php php-mysql php-curl</span></pre>
</div>
<h2>Install a specific version of PHP</h2>
<p>The commands above install the default version of PHP configured with your version of Debian or Ubuntu. For example, running this command in Ubuntu 17 would install PHP 7.1. On Ubuntu 16, it would install PHP 7.0.</p>
<p>If you need a different version, specify that in the command. This shows how to specifically install PHP 7.0.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install php7.1 libapache2-mod-php7.1 php7.1-mysql</span></pre>
</div>
<h2>How to install PHP 7.2?</h2>
<p>Version 7.2 is the most recent version available and not available in earlier versions of Ubuntu's repositories. To install, you must first add a repository, run an update, then install version 7.2.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-add-repository ppa:ondrej/php</span>
<span class="server">user@server:$ </span><span class="command">sudo apt-get update</span>
<span class="server">user@server:$ </span><span class="command">sudo apt-get install php7.2</span></pre>
</div>
<h2>Common packages</h2>
<p>You can view all currently installed PHP packages by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">dpkg -l | grep php</span></pre>
</div>
<p>There are a few common packages that are normally installed with PHP. The most common are shown below.</p>
<h3>libapache2-mod-php</h3>
<p>This package provides the PHP module for the Apache 2 webserver. View the following link for further details:</p>
<ul>
<li><a href="https://packages.debian.org/stretch/libapache2-mod-php">https://packages.debian.org/stretch/libapache2-mod-php</a></li>
</ul>
<p>If you ran the commands above, this was already installed. You can confirm by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">dpkg -l | grep apache2-mod-php</span>
ii  libapache2-mod-php  1:7.2+60+ubuntu17.10.1+deb.sury.org+1  all  server-side, HTML-embedded scripting language (Apache 2 module) (default)</pre>
</div>
<h3>php-cli</h3>
<div id="php-cli-only">
<p>This package provides the /usr/bin/php command interpreter which is used to test PHP scripts from a shell or perform general shell scripting tasks. This package is only for command line tools and is not usable for websites running on Apache. php-cli is installed when you install a PHP version. If not already installed, you can install is using the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install -y php-cli</span></pre>
</div>
<p>This will install the default PHP binary in the /usr/bin/ directory. You can check if this packaged is installed by running the following:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">dpkg -l | grep php-cli</span></pre>
</div>
<p>View the following site for further details:</p>
<ul>
<li><a href="https://packages.debian.org/es/sid/php/php-cli">https://packages.debian.org/es/sid/php/php-cli</a></li>
</ul>
<h2>PHP modules/extensions</h2>
<p>If you have installed 'php-cli', you can view all PHP modules currently installed by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">php -m</span></pre>
</div>
<p>Common modules are listed below, but you can view additional modules for PHP at the following links.</p>
<p><a class="reference external" href="https://packages.debian.org">Debian Packages for PHP</a></p>
<p><a class="reference external" href="http://packages.ubuntu.com">Ubuntu Packages for PHP</a></p>
<h3>PHP databases modules/extensions</h3>
<p>MySQL is one of the most common databases used with PHP, however there are additional packages available for other database engines. </p>
<h4><strong>mysqlnd</strong></h4>
<p>This package contains the mysql, mysqli and PDO mysql modules for PHP using the MySQL Native Driver which is newer and generally faster. This module is installed with php-mysql. You can check if it's installed by running the following:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">php -m | grep mysqlnd</span></pre>
</div>
<p>View the following links for further details:</p>
<ul>
<li><a href="https://dev.mysql.com/downloads/connector/php-mysqlnd/">MySQL native driver for PHP</a></li>
<li><a href="http://php.net/manual/en/intro.mysqlnd.php">mysqlnd at php.net</a></li>
</ul>
<h4><strong>pgsql</strong></h4>
<p>This package contains the pgsql and pdo_pgsql modules for use with PostgreSQL.</p>
<ul>
<li><a href="http://php.net/manual/en/intro.pgsql.php">http://php.net/manual/en/intro.pgsql.php</a></li>
</ul>
<h4><strong>sqlite</strong></h4>
<p>This package contains the sqlite3 and pdo_sqlite modules for working with SQLite.</p>
<ul>
<li><a href="http://php.net/manual/en/intro.sqlite3.php">http://php.net/manual/en/intro.sqlite3.php</a></li>
</ul>
<div id="optional-php-modules">
<h3>Optional PHP Modules</h3>
<p>These modules add additional functionality to PHP.</p>
<h3>curl</h3>
<p>The cURL module allows downloading from HTTP, FTP and other sources. You could install the default PHP version using <span class="code">php-curl</span> or you could specify a specific version of PHP.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install php7.1-curl</span></pre>
</div>
<h3>json</h3>
<p>php-json is installed when you install a PHP version. It allows PHP to interact with JSON data.</p>
<ul>
<li><a href="http://php.net/manual/en/intro.json.php">http://php.net/manual/en/intro.json.php</a></li>
</ul>
<p>Run the following to install (if not already installed).</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install php-json</span>
</pre>
</div>
<h2>Multimedia libraries</h2>
libav and ffmpeg and some of the most popular multimedia libraries for PHP. View the following article for an overview of the differences:
<ul>
<li><a href="https://github.com/haasn/mpvhq-old/wiki/FFmpeg-versus-Libav">FFmpeg versus Libav</a></li>
</ul>
<h3>libav</h3>
<p>Libav was forked from FFmpeg in 2011. It is a program for handling multimedia data. View the following links for further details:</p>
<ul>
<li><a href="https://libav.org/avconv.html">avconv Documentation</a></li>
<li><a href="https://en.wikipedia.org/wiki/Libav">Libav at Wikipedia</a></li>
</ul>
<p>You can install it by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install libav-tools</span></pre>
</div>
<h3>ffmpeg</h3>
<p>The ffmpeg libraries and gd will be installed with this package. These allow retrieving meta-data from video and images, as well as some video frame editing.</p>
<p>You can install it by running the following command:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">user@server:$ </span><span class="command">sudo apt-get install ffmpeg</span></pre>
</div>
<h3>gd</h3>
<p>The GD library provides image manipulation features which can be useful for some applications.</p>
<ul>
<li><a href="http://php.net/manual/en/intro.image.php">http://php.net/manual/en/intro.image.php</a></li>
</ul>
<h3>imagick</h3>
<p>Imagick is a native PHP extension to create and modify images.</p>
<ul>
<li><a href="http://php.net/manual/en/intro.imagick.php">http://php.net/manual/en/intro.imagick.php</a></li>
</ul>
</div>
</div>
<div id="configuration-files">
<h2>Configuration Files</h2>
<p>There are two configuration files for PHP that are used for the CLI and the Apache modules specifically. Change &lt;version&gt; to your specific version of PHP.</p>
<h3>/etc/php/cli/&lt;version&gt;/php.ini</h3>
<p>The primary configuration file for PHP when executed from the CLI. It has no memory_limit at all and allows all functions (including <a class="reference external" href="http://php.net/manual/en/ref.pcntl.php">POSIX PHP functions</a>).</p>
<h3>/etc/php/&lt;version&gt;/apache2/php.ini</h3>
<p>The primary configuration file for PHP when ran from the Apache module. It has a memory_limit of 128MB and disallows all functions related to <a class="reference external" href="http://php.net/manual/en/ref.pcntl.php">POSIX PHP functions</a> for security and safety reasons.</p>
</div>
</div>
</div>
</div>
</div>
<div class="footer"> </div>
<!--DreamCompute Button-->
<div class="dream-sign-up">
<h2>Deploy Your Apps On Cloud Servers Today</h2>
<a href="http://www.dreamhost.com/cloud/computing">Sign Up for DreamCompute</a></div>
</div>
