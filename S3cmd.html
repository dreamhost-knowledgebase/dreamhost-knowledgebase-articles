<p><a class="reference external" href="http://s3tools.org/s3cmd">S3cmd</a> is a command-line tool for uploading, retrieving, and managing data in cloud storage service providers that use the S3 protocol such as DreamObjects. It is ideal for scripts, automated backups triggered from cron, and so on.</p>
<p>The following instructions help you install and configure s3cmd to work with DreamObjects.</p>
<div id="installing-s3cmd">
<h2>Installing S3cmd</h2>
<p>These instructions were performed with <strong>s3cmd v2.0.0</strong>. If you’d like to install a different version, you’ll need to modify the file names appropriately.</p>
<ol class="arabic">
<li>
<p class="first">Log in to your server via <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">mkdir ~/bin</span></pre>
</div>
</li>
<li>
<p class="first">Create a bin directory in your home directory if you don’t have one already.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">curl -O -L https://github.com/s3tools/s3cmd/archive/v2.0.0.tar.gz</span></pre>
</div>
</li>
<li>
<p class="first">Download the <a class="reference external" href="https://github.com/s3tools/s3cmd/releases">latest release of s3cmd from GitHub</a>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">tar xzf v2.0.0.tar.gz</span></pre>
</div>
</li>
<li>
<p class="first">Untar the file.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd s3cmd-2.0.0</span></pre>
</div>
</li>
<li>You should now have a directory called <cite>s3cmd-2.0.0</cite>. Change into that directory
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cp -R s3cmd S3 ~/bin</span></pre>
</div>
</li>
<li>
<p class="first">Copy the s3cmd executable and S3 folder into the bin directory created earlier</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">echo "export PATH=$HOME/bin:$PATH" &gt;&gt; ~/.bash_profile</span></pre>
</div>
</li>
<li>
<p class="first">Add the bin directory to your path so that you can execute the newly installed script.</p>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>This assumes you’re using the default bash shell. If you’re using a different shell, you’ll have to set the path in the proper place.</p>
</div>
</div>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>
<p class="first">Execute your bash profile for it to take effect</p>
</li>
</ol>
</div>
<div id="configuring-s3cmd">
<h2>Configuring S3cmd</h2>
<p>Instead of following the instructions on the s3cmd site to configure it, just do the following:</p>
<ol class="arabic simple">
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">Create a file</a> in your home directory called .s3cfg (note the leading “dot”)
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~</span>
<span class="server">[server]$ </span><span class="command">touch .s3cfg</span></pre>
</div>
</li>
<li>Copy the content of the code block below into it.
<div class="preboxcontainer">
<pre class="prebox">[default]
access_key = Your_DreamObjects_Access_Key
secret_key = Your_DreamObjects_Secret_Key
host_base = objects-us-west-1.dream.io
host_bucket = %(bucket)s.objects-us-west-1.dream.io
enable_multipart = True
multipart_chunk_size_mb = 15
use_https = True
</pre>
</div>
</li>
<li>Include your <a href="https://help.dreamhost.com/hc/en-us/articles/215986357-DreamObjects-Keys">Access and Secret Key</a> from the <a class="reference external" href="https://panel.dreamhost.com/index.cgi?tree=cloud.objects&amp;">DreamObjects control panel</a>.</li>
</ol>
<h2>Additional configuration settings</h2>
<div class="preboxcontainer">
<pre class="prebox">website_endpoint = %(bucket)s.objects-website-us-west-1.dream.io
verbosity = ERROR</pre>
</div>
<p><strong>Making a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd mb s3://s3cmd-justin</span>
Bucket 's3://s3cmd-justin/' created</pre>
</div>
<p><strong>Listing all buckets</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd ls</span>
2014-02-28 16:28  s3://s3cmd-justin</pre>
</div>
<p><strong>Uploading a file into a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd put testfile.txt s3://s3cmd-justin/</span>
testfile.txt -&gt; s3://s3cmd-justin/testfile.txt  [1 of 1]
127 of 127   100% in    0s  1522.87 B/s  done</pre>
</div>
<p><strong>Listing the contents of a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd ls s3://s3cmd-justin</span>
2014-02-28 16:29       127   s3://s3cmd-justin/testfile.txt</pre>
</div>
<p><strong>Downloading a file from a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd get s3://s3cmd-justin/testfile.txt</span>
s3://s3cmd-justin/testfile.txt -&gt; ./testfile.txt  [1 of 1]
127 of 127   100% in    0s     3.46 kB/s  done</pre>
</div>
<p><strong>Deleting a file in a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd del s3://s3cmd-justin/testfile.txt</span>
File s3://s3cmd-justin/testfile.txt deleted</pre>
</div>
<p><strong>Listing the size of a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd du -H s3://s3cmd-justin</span>
40G      s3://s3cmd-justin</pre>
</div>
<p><strong>Recursively make every object in a bucket public</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd setacl s3://3cmd-justin --acl-public --recursive</span></pre>
</div>
<p><strong>Recursively make every object in a bucket private</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd setacl s3://3cmd-justin --acl-private --recursive</span></pre>
</div>
<p><strong>Disable Directory Listing in a bucket</strong></p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd setacl s3://3cmd-justin --acl-private</span></pre>
</div>
<p><strong>Work with multiple accounts</strong></p>
<p>It’s possible to use different configuration files, one for each account on DreamObjects. By default s3cmd puts its configuration file in ~/.s3cfg, but you can override a configuration file with the <cite>-c</cite> option and specify a different configuration file.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd -c .s3cfg-another-identity ls</span></pre>
</div>
<p>For convenience, you can use aliases in the ~/.bash_profile file:</p>
<div class="preboxcontainer">
<pre class="prebox"># s3cmd aliases for different s3 accounts
alias s3my='s3cmd -c ~/.s3cfg-main-identity'
alias s3alt='s3cmd -c ~/.s3cfg-another-identity'</pre>
</div>
</div>
<div class="footer"> </div>
<!--DreamObjects Button-->
<div class="dream-sign-up">
<h2>Start Storing Your Data Today!</h2>
<a href="https://www.dreamhost.com/cloud/storage/">Sign Up for DreamObjects</a></div>
