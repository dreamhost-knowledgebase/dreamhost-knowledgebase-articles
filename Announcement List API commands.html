<h2 id="h_01HV1ERNTEC875W2NNQEYFP4ZH" class="subheader">Overview</h2>
<div class="solvvy-solution">
<p>The <strong>announcement_list</strong> API module allows you to manage Announcement Lists and subscribers.&nbsp;The following options are available.</p>
<ul>
<li>List all Announcement Lists (<a href="#announcement_list-list_lists" target="_self">announcement_list-list_lists</a>)</li>
<li>List all Announcement List subscribers (<a href="#announcement_list-list_subscribers" target="_self">announcement_list-list_subscribers</a>)</li>
<li>Send an email to add a subscriber (<a href="#announcement_list-add_subscriber" target="_self">announcement_list-add_subscriber</a>)</li>
<li>Remove a subscriber (<a href="#announcement_list-remove_subscriber" target="_self">announcement_list-remove_subscriber</a>)</li>
<li>Send an Announcement List (<a href="#announcement_list-post_announcement" target="_self">announcement_list-post_announcement</a>)</li>
</ul>
<div class="notebox-note">
<p>View the following article for instructions on how to connect to the DreamHost API. You will use the instructions in this article to construct your API call.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/4407354972692" target="_blank" rel="noopener noreferrer">Connecting to the DreamHost API</a></li>
</ul>
</div>
</div>
<h2 id="h_01HV1ERNTEYN1ZTBZ405JS639X" class="subheader"><span id="announcement_list-list_lists">announcement_list-list_lists</span></h2>
<div class="solvvy-solution">
<p>The <span class="code">announcement_list-list_lists</span> command lists Announcement Lists you have on your account.</p>
<h3 id="h_01HV1ERNTE852W6YE44SJ5RMVZ">Running the command</h3>
<p>The following command lists all Announcement Lists on your account.</p>
<div class="preboxcontainer">
<pre class="prebox">https://api.dreamhost.com/?key=1A2B3C4D5E6F7G8H<span class="code-highlight">&amp;cmd=announcement_list-list_lists</span></pre>
</div>
</div>
<h2 id="h_01HV1ERNTEXNQC1JDX9VHA9HC3"><span id="announcement_list-list_subscribers">announcement_list-list_subscribers</span></h2>
<div class="solvvy-solution">
<p>The <span class="code">announcement_list-list_subscribers</span> command lists all subscribers to an Announcement List.</p>
<p>You must specify the following values when running this command.</p>
<ul>
<li><strong>listname</strong>: <span class="code">&amp;listname=</span> followed by the name of the Announcement List. This would be the <span class="text-object">List Name</span> that appears on the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=mail.list" target="_blank" rel="noopener noreferrer">Announce Lists</a> page in your panel. For example, if the <span class="text-object">List Name</span> in your panel shows <span class="text-object">testlist@example.com</span>, this would be <span class="code">testlist</span>.</li>
<li><strong>domain</strong>: <span class="code">&amp;domain=</span> followed by the domain of the Announcement List. For example, <span class="code">example.com</span>.</li>
</ul>
<h3 id="h_01HV1ERNTE40FNPM7YGNFWFVPY">Running the command</h3>
<p>The following command lists all Announcement Lists on your account.</p>
<div class="preboxcontainer">
<pre class="prebox">https://api.dreamhost.com/?key=1A2B3C4D5E6F7G8H<span class="code-highlight">&amp;cmd=announcement_list-list_subscribers&amp;listname=testlist&amp;domain=example.com</span></pre>
</div>
</div>
<h2 id="h_01HV1ERNTETKN3Y30ZNS7CSTK0"><span id="announcement_list-add_subscriber">announcement_list-add_subscriber</span></h2>
<div class="solvvy-solution">
<p>The <span class="code">announcement_list-add_subscriber</span> command sends an opt-in email to an email address to ask them to subscribe to the Announcement List.</p>
<p>You must specify the following values when running this command.</p>
<ul>
<li><strong>listname</strong>: <span class="code">&amp;listname=</span> followed by the name of the Announcement List. This would be the <span class="text-object">List Name</span> that appears on the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=mail.list" target="_blank" rel="noopener noreferrer">Announce Lists</a> page in your panel. For example, if the <span class="text-object">List Name</span> in your panel shows <span class="text-object">testlist@example.com</span>, this would be <span class="code">testlist</span>.</li>
<li><strong>domain</strong>: <span class="code">&amp;domain=</span> followed by the domain of the Announcement List. For example, <span class="code">example.com</span>.</li>
<li><strong>email: </strong><span class="code">&amp;email=</span> followed by the email address you want to subscribe. For example, <strong>newuser@example.com</strong>.</li>
<li><strong>name </strong>: <span class="code">&amp;name=</span> followed by the name. For example: <span class="text-object">John Doe</span>.</li>
</ul>
<h3 id="h_01HV1ERNTFHWYBXR9ZH24VXTM5">Running the command</h3>
<p>The following command sends an opt-in email to an email address asking them to click a link to subscribe to your Announcement Lists.</p>
<div class="preboxcontainer">
<pre class="prebox">https://api.dreamhost.com/?key=1A2B3C4D5E6F7G8H<span class="code-highlight">&amp;cmd=announcement_list-add_subscriber&amp;listname=testlist&amp;domain=example.com&amp;email=newuser@example.com</span></pre>
</div>
</div>
<h2 id="h_01HV1ERNTF8A6FQ0GAV7V1TBPH"><span id="announcement_list-remove_subscriber">announcement_list-remove_subscriber</span></h2>
<div class="solvvy-solution">
<p>The <span class="code">announcement_list-remove_subscriber</span> command immediately removes an email address from an Announcement List.</p>
<p>You must specify the following values when running this command.</p>
<ul>
<li><strong>listname</strong>: <span class="code">&amp;listname=</span> followed by the name of the Announcement List. This would be the <span class="text-object">List Name</span> that appears on the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=mail.list" target="_blank" rel="noopener noreferrer">Announce Lists</a> page in your panel. For example, if the <span class="text-object">List Name</span> in your panel shows <span class="text-object">testlist@example.com</span>, this would be <span class="code">testlist</span>.</li>
<li><strong>domain</strong>: <span class="code">&amp;domain=</span> followed by the domain of the Announcement List. For example, <span class="code">example.com</span>.</li>
<li><strong>email: </strong><span class="code">&amp;email=</span> followed by the email address you want to subscribe. For example, <strong>newuser@example.com</strong>.</li>
</ul>
<h3 id="h_01HV1ERNTF37AB0JA75W8AXR4J">Running the command</h3>
<p>The following command lists all Announcement Lists on your account.</p>
<div class="preboxcontainer">
<pre class="prebox">https://api.dreamhost.com/?key=1A2B3C4D5E6F7G8H<span class="code-highlight">&amp;cmd=announcement_list-remove_subscriber&amp;listname=testlist&amp;domain=example.com&amp;email=newuser@example.com</span></pre>
</div>
</div>
<h2 id="h_01HV1ERNTF09780M348V4RHBT7"><span id="announcement_list-post_announcement">announcement_list-post_announcement</span></h2>
<div class="solvvy-solution">
<p>The <span class="code">announcement_list-post_announcement</span> command posts an announcement to an Announcement List.</p>
<p>You must specify the following values when running this command.</p>
<ul>
<li><strong>listname</strong>: <span class="code">&amp;listname=</span> followed by the name of the Announcement List. This would be the <span class="text-object">List Name</span> that appears on the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=mail.list" target="_blank" rel="noopener noreferrer">Announce Lists</a> page in your panel. For example, if the <span class="text-object">List Name</span> in your panel shows <span class="text-object">testlist@example.com</span>, this would be <span class="code">testlist</span>.</li>
<li><strong>domain</strong>: <span class="code">&amp;domain=</span> followed by the domain of the Announcement List. For example, <span class="code">example.com</span>.</li>
<li><strong>subject </strong>(optional): <span class="code">&amp;subject=</span> followed by the subject of the message.</li>
<li><strong>message</strong>: <span class="code">&amp;message=</span> followed by the text of the message to send. If <span class="code">html</span> is set as the type, you can type the HTML code directly here. For example: <strong>&lt;h1&gt;Header&lt;/h1&gt;&lt;p&gt;Paragraph&lt;/p&gt;</strong>.</li>
<li><strong>name</strong>: <span class="code">&amp;name=</span> followed by the <span class="text-object">List Name</span> for this list on the "Edit" list page. For example: <span class="text-object">"list name" &lt;testlist@example.com&gt;</span>
<dl>
<dd>
<div class="notebox-note">
<p>This is the <span class="text-object">From Name</span> field that appears on the page where you edit the Announcement List. For example, navigate to the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=mail.list" target="_blank" rel="noopener noreferrer">Announce Lists</a> page, then click the <strong>Edit</strong> button to the right. The second field is titled <span class="text-object">From Name</span>. Copy the full list name from this field.</p>
</div>
</dd>
</dl>
</li>
<li><strong>stamp</strong>&nbsp;(optional): <span class="code">&amp;stamp=</span> followed by the time to send the message. For example: <span class="text-object">2024-04-09 19:40:00</span>.</li>
<li><strong>charset</strong> (optional): <span class="code">&amp;charset=</span> followed by the character set in which the message is encoded. For example utf-8.</li>
<li><strong>type</strong> (optional): <span class="code">&amp;type=</span> followed by the format of the message. Option are <span class="code">text</span> or <span class="code">html</span>.</li>
<li><strong>duplicate_ok </strong>(optional): <span class="code">&amp;duplicate_ok=</span> followed by a <span class="code">1</span> or <span class="code">0</span>. This indicates if you allow duplicate messages to be sent.</li>
</ul>
<h3 id="h_01HV1ERNTF8WE3B2W80T8Q94D5">Running the command</h3>
<p>The following command lists all Announcement Lists on your account.</p>
<div class="preboxcontainer">
<pre class="prebox">https://api.dreamhost.com/?key=1A2B3C4D5E6F7G8H<span class="code-highlight">&amp;cmd=announcement_list-post_announcement&amp;listname=testlist&amp;domain=example.com&amp;subject=List Subject Here&amp;message=&lt;h1&gt;Header&lt;/h1&gt;&lt;p&gt;Paragraph&lt;/p&gt;&amp;name="listname" &lt;testlist@example.com&gt;&amp;stamp=2021-10-05 14:45:00&amp;charset=utf-8&amp;type=html&amp;duplicate_ok=1</span></pre>
</div>
</div>
<h2 id="h_01HV1ERNTFGQX6ZC3K24TQCEJN"><span id="See_also">See also</span></h2>
<div class="solvvy-solution">
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217560167-Application-programming-interface-overview">Application programming interface overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/4407354972692-Connecting-to-the-DreamHost-API">Connecting to the DreamHost API</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217555677-API-metacommands">API metacommands</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217555707-DNS-API-commands">DNS API commands</a></li>
</ul>
</div>
