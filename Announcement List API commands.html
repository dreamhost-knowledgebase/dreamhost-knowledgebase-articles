<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="Announcement List API commands">
<div class="altTitle">Announcement List API</div>
<div class="table-of-content container">
<ul class="simple">
<li><a class="reference internal" href="#announcement_list-list_lists">announcement_list-list_lists</a></li>
<li><a class="reference internal" href="#announcement_list-list_subscribers">announcement_list-list_subscribers</a></li>
<li><a class="reference internal" href="#announcement_list-add_subscriber">announcement_list-add_subscriber</a></li>
<li><a class="reference internal" href="#announcement_list-remove_subscriber">announcement_list-remove_subscriber</a></li>
<li><a class="reference internal" href="#announcement_list-post_announcement">announcement_list-post_announcement</a></li>
<li><a class="See also" href="#See_also">See also</a></li>
</ul>
</div>
<div class="alert alert-note">
<div class="alert-icon"><img alt="" height="60" src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" width="60"/></div>
<div class="alert-content">
<p>The following documentation is officially supported by DreamHost. However, if you find any instructions in this article do not function as intended, it's possible it may be out of date. When in doubt, please contact support for further assistance.</p>
</div>
</div>
<p>The <strong>announcement_list</strong> API module allows you to manage Announcement Lists and subscribers.</p>
<h2>Commands</h2>
<h3><span id="announcement_list-list_lists">announcement_list-list_lists</span></h3>
<p>Dump a list of all Announcement Lists you have on your account(s).</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>announcement_list-list_lists</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>(none)</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br/>account_id listname domain name start_date max_bounces num_subscribers <br/>1 fun example.com "DH Fun" &lt;fun@dreamhost.com&gt; 2007-12-13 5 102 <br/>1 announcements dreamhost.com "DH Announcements" &lt;announcements@dreamhost.com&gt; 2001-05-09 6 302420</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>(none)</td>
</tr>
</tbody>
</table>
<h3><span id="announcement_list-list_subscribers">announcement_list-list_subscribers</span></h3>
<p>Dump a list of all subscribers to an Announcement List.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>announcement_list-list_subscribers</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>listname</strong> : The name of the Announcement List, like announcements <br/><strong>domain</strong> : The domain of the Announcement List, like example.com</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br/>email confirmed subscribe_date name num_bounces <br/>josh@gmail.com 1 2007-12-13 16:55:15 Josh 0 <br/>joe@hotmail.com 1 2007-12-13 16:55:08 Joe 0 <br/>john@yahoo.com 1 2007-12-19 09:16:32 John 0</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_listname <br/>no_domain <br/>no_such_listname <br/>no_such_domain</p>
</td>
</tr>
</tbody>
</table>
<h3><span id="announcement_list-add_subscriber">announcement_list-add_subscriber</span></h3>
<p>Sends an opt-in email to an email address to ask them to subscribe to an Announcement List.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td><strong>announcement_list-add_subscriber</strong></td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>listname :</strong> The name of the Announcement List, like announcements <br/><strong>domain : </strong>The domain of the Announcement List, like example.com <br/><strong>email : </strong>The email address to subscribe, like test@test.com <br/><strong>name : </strong>The name of the person, like Josh Jones (optional)</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p><strong>success </strong><br/><strong>sent_opt_in_email</strong></p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_listname <br/>no_domain <br/>no_such_listname <br/>no_such_domain <br/>no_email <br/>invalid_email (may have specifics after a tab) <br/>already_subscribed <br/>email_may_not_be_added_to_any_dreamhost_list_ever <br/>email_requested_to_be_added_in_last_two_days_already (may have specifics after a tab) <br/>internal_error_opting_in</p>
</td>
</tr>
</tbody>
</table>
<h3><span id="announcement_list-remove_subscriber">announcement_list-remove_subscriber</span></h3>
<p>Immediately removes an email address from an Announcement List.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>announcement_list-remove_subscriber</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>listname</strong> : The name of the Announcement List, like announcements <br/><strong>domain</strong> : The domain of the Announcement List, like example.com <br/><strong>email</strong> : The email address to unsubscribe, like test@test.com</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br/>unsubscribed</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_listname <br/>no_domain <br/>no_such_listname <br/>no_such_domain <br/>no_email <br/>not_subscribed <br/>internal_error_unsubscribing</p>
</td>
</tr>
</tbody>
</table>
<h3><span id="announcement_list-post_announcement">announcement_list-post_announcement</span></h3>
<p>Post an announcement to an Announcement List.</p>
<table class="wikitable">
<tbody>
<tr>
<td><strong>Command</strong></td>
<td>announcement_list-post_announcement</td>
</tr>
<tr>
<td><strong>Values</strong></td>
<td>
<p><strong>listname</strong> : The name of the Announcement List, like announcements <br/><strong>domain</strong> : The domain of the Announcement List, like example.com <br/><strong>subject</strong> : The subject of the message (optional) <br/><strong>message</strong> : The text of the message to send <br/><strong>name</strong> : The name for the list to use, like: "list name" &lt;list@example.com&gt; <br/><strong>stamp</strong> : The time to send the message, like 2009-05-28 19:40:00 (optional) <br/><strong>charset</strong> : The character set in which the message is encoded (optional) <br/><strong>type</strong> : The format of the message, either text or html (optional) <br/><strong>duplicate_ok</strong>: Whether to allow duplicate messages to be sent, like 1 or 0 (optional)</p>
</td>
</tr>
<tr>
<td><strong>Result</strong></td>
<td>
<p>success <br/>posted</p>
</td>
</tr>
<tr>
<td><strong>Possible errors</strong></td>
<td>
<p>no_listname <br/>no_domain <br/>no_such_listname <br/>no_such_domain <br/>message_required <br/>invalid_stamp <br/>invalid_type <br/>invalid_name <br/>duplicate_message (may have specifics after a tab) <br/>internal_error_updating_list <br/>internal_error_sending_mail</p>
</td>
</tr>
</tbody>
</table>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="/hc/en-us/articles/217560167-Application-programming-interface-overview">Application programming interface overview</a></li>
</ul>
</div>
</div>
</div>
</div>
