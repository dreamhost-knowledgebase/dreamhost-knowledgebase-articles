<p>Optimizing your private server helps it to use less memory which saves you money as well as speeding up your websites. This article describes the steps to pinpoint and mitigate the source of any memory issues on a <a href="/hc/en-us/articles/215280058-Virtual-Private-Server-overview-VPS-">DreamHost VPS</a>.</p>
<h2><span id="How_to_optimize_your_PS">How to optimize your PS</span></h2>
<h3>Blocking abusive access</h3>
<p>Common problems for sites are caused by search engine indexing bots hammering them. When search engine bots hit a site, they usually hit it pretty hard. Finding abusive bots like this can often be more of an art than a science, but you can get some data on this by analyzing the access.log file for your websites.</p>
<p>To minimize the issue of abusive bots, you should definitely set up a Robots.txt file. This file can help to control what bots are allowed to search and how often.</p>
<p>View the following article for detailed information on how to check your access.log file and see who is hitting it the most:</p>
<ul>
<li><a href="/hc/en-us/articles/216105077-How-can-I-control-bots-spiders-and-crawlers-">How can I control bots, spiders and crawlers?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216105097-Viewing-and-examining-your-access-log-via-SSH">Viewing and examining your access log via SSH</a></li>
</ul>
<h2><span id="IP_Tables">IP Tables</span></h2>
<p>Private servers are virtual servers running on a single host machine. The host machine controls IP tables for all private servers on it.</p>
<p>It's not possible to install and control your own custom IP tables on your private server while it's being managed by DreamHost.</p>
<p>If you wish to run your own custom IP tables, you must upgrade to a Dedicated server and manually install this software.</p>
<h2><span id="Preventing_image_hotlinking">Preventing image hotlinking</span></h2>
<p><a href="/hc/en-us/articles/216363197-How-do-I-prevent-image-hotlinking-">Hotlinking</a> is when a site other than your own includes an image in their site that is actually hosted on your server. They do this by directly referencing the image's URL from your site in their own. This can cause massive problems for you if some of your hosted images are hotlinked in another popular site. Even a relatively low traffic site can cause poor server performance if this is the case. To prevent this from happening, you can review the <a href="https://help.dreamhost.com/hc/en-us/articles/216363197-How-do-I-prevent-image-hotlinking-">Preventing hotlinking</a> article.</p>
<h2><span id="Caching_your_site">Caching your site</span></h2>
<p>As you've probably seen by now, PHP processes can take up a significant amount of memory. If your site is getting hammered with traffic, the fewer hits that have to spawn a PHP CGI process, the better. This can be accomplished by enabling caching on your site. Essentially, caching renders a PHP script and then "caches" that HTML output as a file. The next time that page is accessed, the server outputs the static HTML page, rather than process the PHP script again. The task of serving a static file requires far less memory and generally serves more efficiently, than the processing and execution of a PHP script. So if you're having memory trouble on your PS, it's essential that you confirm that you're running software that has caching functionality and that you enable the use of this feature.</p>
<p>Also, if you expect a large volume of website visitors, you can enable <a href="/hc/en-us/articles/215873088-Cloudflare-overview">Cloudflare</a>. This is a service that DreamHost partners with to add additional caching options for your websites.</p>
<h2><span id="Enabling_FastCGI_and_XCache">Enabling OPcache</span></h2>
<p>Another improvement you can make in order to reduce memory usage is to turn on OPcache for your domains that run PHP-based sites. OPcache is a caching engine built into PHP. When enabled, it dramatically increases the performance of websites that utilize PHP.</p>
<p>View the following article for details on how to enable this feature:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216660668-OPcache-overview">OPcache overview</a></li>
</ul>
<h2><span id="WordPress-specific_optimizations">WordPress-specific optimizations</span></h2>
<p>If you're running multiple instances of the WordPress software on your private server, you should definitely review the <a href="/hc/en-us/sections/203242637">'WordPress Optimization' category</a> for detailed articles.</p>
<p>Make sure to do the following with each installation:</p>
<ul>
<li>Always run the most recent version of WordPress.</li>
<li>Install only essential plugins.</li>
<li>Keep your plugins up-to-date.</li>
<li>Remove/delete unused plugins as opposed to just deactivating them.</li>
<li>Confirm your active theme isn't generating any errors in your error.log file (located in the same directory as the access.log).</li>
<li>View <a href="http://www.die.net/musings/page_load_time/">Optimizing Page Load Time</a> and make sure you have a popular WordPress caching plugin installed and configured. For example, W3TC or WP Super Cache.</li>
<li>If you have an older VPS and have enabled XCache in the past, please keep in mind that running a third-party WordPress caching plugin simultaneously with your panel’s XCache option can actually increase overall memory usage. It's best to pick either one or the other for your caching needs.</li>
<li>Finally, compressing your image files improves loading time and reduces overall memory usage.</li>
</ul>
<h2>See also</h2><div class="solvvy-hidden">
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214879348-Managing-your-VPS-memory-usage">Managing your VPS memory usage</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215280058-Virtual-Private-Server-VPS-overview-">Private server overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214879438-Recovering-from-memory-saturation">Recovering from memory saturation</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215572647-Simulating-high-traffic">Simulating high traffic</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/214880098-Using-the-ps-command-to-troubleshoot-your-website">Using the 'ps' command to troubleshoot your website</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215945987-Web-server-performance-comparison">Web server performance comparison</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215573127-How-do-I-reboot-my-VPS-">How do I reboot my VPS?</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a href="http://www.cyberciti.biz/tips/howto-performance-benchmarks-a-web-server.html">nixCraft Howto: Performance Benchmark a Webserver</a></li>
<li><a href="http://www.unix.com/man-page/linux/1/ab/">Apache HTTP server benchmarking tool</a></li>
<li><a href="http://www.die.net/musings/page_load_time/">Optimizing Page Load Time</a></li>
</ul></div>
