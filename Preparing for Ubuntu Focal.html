<div class="document">
<div class="documentwrapper">
<div class="body">
<div id="ubuntu_focal" class="solvvy-hidden">
<div class="altTitle">Ubuntu Focal</div>
<div class="table-of-content container">
<ul class="simple">
<li><a class="reference internal" href="#prep">What to expect</a></li>
<li><a class="reference internal" href="#version">Checking the version of Ubuntu</a></li>
<li><a class="reference internal" href="#dns-change">DNS change</a></li>
<li><a class="reference internal" href="#mysql">MySQL</a></li>
<li><a class="reference internal" href="#vps-name-change">VPS name change</a></li>
</ul>
<ul class="simple">
<li><a class="reference internal" href="#webserver">Web server version changes</a></li>
</ul>
<span class="toc-sublink"> <a href="#curl">curl</a> </span> <span class="toc-sublink"> <a href="#ffmpeg">FFmpeg</a></span> <span class="toc-sublink"> <a href="#gcc">GCC</a></span> <span class="toc-sublink"> <a href="#java" target="_self">Java</a></span> <span class="toc-sublink"> <a href="#node">Node / NVM</a></span> <span class="toc-sublink"> <a href="#openssl">OpenSSL</a></span> <span class="toc-sublink"> <a href="#perl">Perl</a> </span> <span class="toc-sublink"> <a href="#python">Python</a></span> <span class="toc-sublink"> <a href="#ruby">Ruby</a></span> <span class="toc-sublink"> <a href="#ssh">SSH</a> </span>
<ul class="simple">
<li><a class="reference internal" href="#support">How can I find support?</a></li>
</ul>
</div>
</div>
<p>The following provides information to help you prepare your site for the Ubuntu upgrade from Debian Stretch or Debian Buster to version 20.04.3 LTS (aka Focal).</p>
<h2><span id="prep">What to expect</span></h2>
<div class="solvvy-solution">
<p>DreamHost will contact you via email in advance of the upgrade.</p>
<p>The time frame of an upgrade can vary from server to server, however, the timing ensures that there are several highly trained engineers on hand should any major issues arise. The upgrade itself should take no longer than an hour to complete.</p>
<p>Any services that rely on the availability of your MySQL server (WordPress or any other database-driven websites, applications, and so on) will not be reachable until the upgrade is complete. This will NOT affect cloud or email services.</p>
</div>
<h2><span id="version">Checking the version of Ubuntu</span></h2>
<div class="solvvy-solution">
<p>As mentioned above, you will receive an email notifying you of your server's upgrade. However, you can manually check via <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</p>
<p>The following command confirms the server is still running Ubuntu 14:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cat /etc/issue</span>
Debian GNU/Linux 10 \n \l</pre>
</div>
<p>And this shows a server running Ubuntu 18:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cat /etc/issue</span>
Ubuntu 20.04.3 LTS \n \l</pre>
</div>
</div>
<h2><span id="dns-change">DNS change</span></h2>
<div class="solvvy-solution">
<p>If you are using DreamHost's nameservers, no work is needed; the DNS changes will happen automatically. If you are managing your DNS through an external DNS provider (such as Cloudflare), you will need to update your DNS records within one week of the upgrade completion notice.</p>
</div>
<h2><span id="mysql">MySQL</span></h2>
<div class="solvvy-solution">
<p>DreamHost MySQL servers will be upgraded to MySQL version 8 as part of the Ubuntu upgrade.</p>
<p>See the following article for more information on MySQL 8.0:</p>
<ul>
<li><a href="https://dev.mysql.com/blog-archive/whats-new-in-mysql-8-0-generally-available/">Whatâ€™s New in MySQL 8.0?</a></li>
</ul>
</div>
<h2><span id="vps-name-change">VPS name change</span></h2>
<div class="solvvy-solution">
<p>The server name of your VPS will be changing. This will only affect you if you use your server name in your SFTP or SSH settings. The new server name will be included in the maintenance completion notice you receive once the upgrade is complete (in addition to the number changing, you will also notice that DreamHost has changed the naming scheme from <span class="text-object">ps####</span> to <span class="text-object">vps####</span>).</p>
</div>
<h2><span id="webserver">Web server version changes</span></h2>
<div class="solvvy-solution">
<h3><span id="curl">curl</span></h3>
<p>The version of curl changed from Stretch (7.52.1) or Buster (7.64.0) to 7.68.0.</p>
<h3><span id="ffmpeg">FFmpeg</span></h3>
<p>The version of FFmpeg changed from Stretch (3.2.15) or Buster (4.1.6) to 4.2.4.</p>
<h3><span id="gcc">GCC</span></h3>
<p>The version of GCC changed from Stretch (6.3) or Buster (8.3) to 9.3.</p>
<h3><span id="java">Java</span></h3>
<p>Ubuntu Focal includes a new version of Java version 8, 8u312.</p>
<h3><span id="node">Node / NVM</span></h3>
<p>When installing a custom version of Node.js/NVM, the installation will get caught by grsec. You must run a command to change the <span class="code">pax flags</span> so grsec ignores the files. View the following article for full instructions:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360029083351-Installing-a-custom-version-of-NVM-and-Node-js">Installing a custom version of NVM and Node.js</a></li>
</ul>
<h3><span id="openssl">OpenSSL</span></h3>
<p>The version of OpenSSL changed from Stretch (1.1.0l) or Buster (1.1.1d) to 1.1.1f.</p>
<h3><span id="perl">Perl</span></h3>
<p>The version of Perl changed from Stretch (5.24.1) or Buster (5.28.1) to 5.30.0.</p>
<h3><span id="python">Python</span></h3>
<p>The following Python versions are changing:</p>
<ul>
<li>Python 2 (from 2.7.13/16 to 2.7.17)</li>
<li>Python 3 (from 3.5.3/3.7.3 to 3.8.2)</li>
</ul>
<h3><span id="ruby">Ruby</span></h3>
<p>The Ruby version on the server is 2.7.0p0. If you would like more control over this (e.g., you wish to use an older or newer version of Ruby), DreamHost strongly recommends using <a href="/hc/en-us/articles/217185247-Ruby-Version-Manager-RVM-">RVM</a>.</p>
<p>If you are using <a href="/hc/en-us/articles/115001070131-Using-Bundler-to-install-Ruby-gems">Bundler</a>, you only need to run:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">bundle exec gem pristine</span>
</pre>
</div>
<p>Then, reload Passenger so that the changes take effect by running <span class="code">touch</span> on a <span class="text-object">restart.txt</span> file from your apps <span class="text-object">tmp</span> directory:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">touch  tmp/restart.txt</span>
</pre>
</div>
<h3><span id="ssh">SSH</span></h3>
<p>The version of SSH changed from Stretch (7.4p1) or Buster (7.9p1) to 8.2p1.</p>
</div>
<h2><span id="support">How can I find support?</span></h2>
<div class="solvvy-solution">
<p>If you have any questions or concerns, please feel free to <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=support.msg&amp;" target="_blank" rel="noopener noreferrer">contact support</a>.</p>
</div>
</div>
</div>
</div>
<div class="clearer">&nbsp;</div>
