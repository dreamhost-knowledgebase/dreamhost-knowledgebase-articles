<p>Private networking is a useful feature that you may wish to utilize for advanced cloud setups. For a description of private networking and how to have it enabled on your account, please review the following article:</p>
<ul>
<li><a class="reference external" href="https://help.dreamhost.com/hc/en-us/articles/229789688-Private-networking-overview">Private networking overview</a></li>
</ul>
<h2>Private network options</h2>
<p>Once DreamHost technical support has enabled private networking, you can add a private network to your account. Please review the options below to determine settings for the private network.</p>
<div id="network-block">
<h3>Network block</h3>
<p>There are various private network blocks that are available for use with private networks which are specified in <a class="reference external" href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR</a> format. Common examples of this are 10.0.0.0/24 or 192.168.0.0/24, however there are <a class="reference external" href="https://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces">other networks</a> to choose from as well. In the example below, the address 10.0.0.0/24 is used.</p>
</div>
<div id="dhcp">
<h3>DHCP</h3>
<p>When a subnet is defined, DHCP can be set to enabled or disabled. It can also be changed later if desired. When DHCP is enabled, newly created instances run cloud-init at startup and detect it, therefore determining it isn't necessary to hard-code network settings into the operating system.</p>
<p>If it is disabled, these settings are hard-coded. Having DHCP enabled can help with creating snapshots and new instances from those snapshots as the snapshots won't have hard-coded network configs in them. However, older versions of cloud-init fail to boot entirely when DHCP is enabled.</p>
<p>As of December 2017, all public images catered by DreamHost have a version of cloud-init that supports DHCP.</p>
</div>
<h2>Checking if Private Networking has been enabled</h2>
<p>After you have requested that Private Networking be <a href="https://help.dreamhost.com/hc/en-us/articles/229789688-Private-networking-overview">enabled on your account</a>, check your DreamCompute dashboard to confirm it's enabled.</p>
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_00" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_00.png"/></dd>
</dl>
<p>In the left pane, click the 'Project &gt; Network &gt; Networks' tabs. To the right you'll see a <strong>Create Network</strong> button. If the button is greyed out and says 'Quota exceeded', private networking has not been enabled on your project yet. Once it has been enabled, you'll be able to press this button to add a private network.</p>
<div id="adding-the-private-network">
<h2>Adding the private network</h2>
<ol>
<li>Log into your <a href="https://iad2.dreamcompute.com/project/">DreamCompute dashboard</a>.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_01.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_01.png"/></dd>
</dl>
</li>
<li>In the left pane, click the 'Project &gt; Network &gt; Networks' tab.</li>
<li>Click the <strong>Create Network</strong> button. <span class="caption-text">A new window appears:<img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_02.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_02.png"/></span></li>
<li>Enter a name for the network such as "private-network".</li>
<li>Leave the "Enable Admin State" and "Create Subnet" boxes checked.</li>
<li>Click the <strong>Next</strong> button to proceed to the 'Subnet' tab.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_03.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_03.png"/></dd>
</dl>
</li>
<li>An optional Subnet name can be specified if desired.</li>
<li>On the Subnet tab, enter the CIDR range that you decided on above for the private network into the "Network Address" field.</li>
<li>When finished, click the <strong>Next</strong> button to proceed to the 'Subnet Details' tab.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_04.png" height="476" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_04.png" width="601"/></dd>
</dl>
</li>
<li>Check or uncheck the 'Enable DHCP' checkbox depending on the decision made in the <a class="reference external" href="#dhcp">DHCP</a> section above.</li>
<li>In the "DNS Name Servers" field, enter the values 8.8.8.8 and 8.8.4.4 on their own lines.</li>
<li>Finally, click the <strong>Create</strong> button.</li>
</ol>
<h2>Create a router</h2>
<ol>
<li>Navigate to the 'Project &gt; Network &gt; Routers' tab.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_05.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_05.png"/></dd>
</dl>
</li>
<li>Click the <strong>+ Create Router</strong> button on the top right.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_06.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_06.png"/></dd>
</dl>
</li>
<li>A new window appears. Enter a name for the router such as "private-router".</li>
<li>Leave the 'Enable Admin State' box checked.</li>
<li>Select "public" from the 'External Network' drop-down.</li>
<li>Finally, click the <strong>Create Router</strong> button.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_07.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_07.png"/></dd>
</dl>
</li>
<li>Once the router is displayed, click on the router's name to navigate to the router details page.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_08.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_08.png"/></dd>
</dl>
</li>
<li>Click the 'Interfaces' tab that is displayed on the top left.</li>
<li>Click on the <strong>+ Add Interface</strong> button on the top right.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_09.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_09.png"/></dd>
</dl>
</li>
<li>In the "Subnet" drop-down, select the private network created in steps #1-4 above.</li>
<li>Finally, click the <strong>Submit</strong> button.</li>
</ol>
</div>
<div id="using-the-private-network">
<h2>Using the private network</h2>
<p>This completes the process of adding a private network to the account. To select the private network and add a floating IP address, follow the additional steps below.</p>
<ol>
<li>Navigate to the 'Project &gt; Compute &gt; Instances' tab.</li>
<li>Click the <strong>Launch Instance</strong> button on the top right.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_10.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_10.png"/></dd>
</dl>
</li>
<li>Complete the "Details", "Source", "Flavor", and "Key Pair" sections as normal.</li>
<li>In the 'Networks' tab, click the up arrow button <strong>"⇑"</strong> to add the private network you created to this instance.</li>
<li>Finally, click the <strong>Launch Instance</strong> button to launch the instance.</li>
</ol>
<h2>Floating IP association</h2>
<ol>
<li>Navigate to the 'Project &gt; Compute &gt; Instances' tab.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_11.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_11.png"/></dd>
</dl>
</li>
<li>To the right of the instance is a dropdown menu. Click the down arrow to expand it and select "Associate Floating IP".</li>
<li>Provision a floating IP address if needed.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_12.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_12.png"/></dd>
</dl>
</li>
<li>If a floating IP has not yet been provisioned, click the "<strong>+</strong>" button to do so. The provision window has only one "Pool" available named "Public" to select, and an "Allocate IP" button to complete the process.</li>
<li>Select an available floating IP from the "IP Address" drop-down, and the private IP address of the above instance in the "Port to be associated" drop-down.</li>
<li>Finally, click the <strong>Associate</strong> button.</li>
<li>Verify floating IP assignment. The floating IP address assigned appears on the 'Project &gt; Compute &gt; Instances' page in the "IP Address" column.
<dl>
<dd><img alt="how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_13.png" src="https://objects-us-east-1.dream.io/kbimages/images/how-to-create-and-manage-private-networks-with-the-dreamcompute-dashboard_13.png"/></dd>
</dl>
</li>
</ol>
<p>If you have additional questions about floating IP addresses, please review our article here:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115002553511-Managing-floating-IP-addresses-using-the-DreamCompute-dashboard">Managing floating IP addresses using the DreamCompute dashboard</a></li>
</ul>
</div>
