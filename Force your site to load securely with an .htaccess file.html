<p>If you have <a href="https://help.dreamhost.com/hc/en-us/articles/215089118-Adding-an-SSL-certificate-overview">added an SSL certificate</a> to your domain, you can force all visits to your site to use HTTPS to ensure your traffic is secure. This page lists examples on how to do this depending on how your site is hosted.</p>
<p>View either of the following articles for instructions on how to create/edit an .htaccess file on your server.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000098272-Creating-and-editing-a-file-via-FTP">Creating and editing a file via FTP</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">Creating and editing a file via SSH</a></li>
</ul>
<p>Please note that your FTP client must be configured to show hidden files. If not, you will not see the .htaccess file. View the following article for details on how to view hidden files:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215613037-How-do-I-show-hidden-files-on-my-FTP-client-">How do I show hidden files in my FTP client?</a></li>
</ul>
<h2>What to change in the examples below?</h2>
<p>The examples below can be entered into your .htaccess file exactly as shown.</p>
<p>Only if the example contains a URL in bold should you change that to your actual URL. For example, if you see the domain 'example.com', change this to your own domain name.</p>
<div class="solvvy-solution">
<h2><span id="Forcing_the_domain_to_serve_securely_using_HTTPS">Forcing the domain to serve securely using HTTPS (for any site)</span></h2>
<p>The following forces any http request to be rewritten using https. For example, the following code forces a request to <a href="http://example.com">http://example.com</a> to load <a href="https://example.com">https://example.com</a>. It also forces directly linked resources (images, css, etc.) to use https:</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
</pre>
</div>
<p>If this isn't working for you, first check your line endings. Copy/paste from your web browser into a text editor may not work right, so after pasting into your text editor you should delete each line break and add it back in (line break = return key).</p>
</div>
<div class="solvvy-solution">
<h2><span id="Forcing_HTTPS_with_WordPress">Forcing HTTPS with WordPress</span></h2>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://objects-us-east-1.dream.io/kbimages/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>If your .htaccess file already contains some <a href="https://codex.wordpress.org/htaccess">default WordPress code</a>, enter the following above or below that code. Never enter code inside of the comment tags that start and end with:</p>
<dl>
<dd># BEGIN WordPress<br /> # END WordPress</dd>
</dl>
</div>
</div>
<p>It's possible for a visitor to enter in a direct HTTP URL on your WordPress site, even when an SSL certificate is active. To force any HTTP request to redirect to HTTPS, you can add code to your WordPress .htaccess file. There are two code options below for you to use. The first should work as shown, but if not, try option two instead.</p>
<h3>Option #1</h3>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 
</pre>
</div>
<h3>Full example including the default WordPress code</h3>
<p>Below is what your .htaccess file looks like with both the new HTTPS code and existing WordPress code.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] 

# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress</pre>
</div>
<h3>Option #2</h3>
<p>In this example, make sure to change 'example.com' to your actual domain name.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On 
RewriteCond %{SERVER_PORT} 80 
RewriteRule ^(.*)$ https://<span class="command">www.example.com</span>/$1 [R=301,L]</pre>
</div>
<h3>Full example including the default WordPress code</h3>
<p>Below is what your .htaccess file looks like with both the new HTTPS code and existing WordPress code.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On 
RewriteCond %{SERVER_PORT} 80 
RewriteRule ^(.*)$ https://<span class="command">www.example.com</span>/$1 [R=301,L]

# BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress</pre>
</div>
</div>
<div class="solvvy-solution">
<h2><span id="Forcing_HTTPS_with_DreamPress">Forcing HTTPS with DreamPress</span></h2>
<p>It's possible for a visitor to enter in a direct HTTP URL on your DreamPress site. To force any HTTP request to redirect to HTTPS, add the following to your WordPress .htaccess file:</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301] </pre>
</div>
</div>
<h2>Troubleshooting</h2>
<h3>Cloudflare</h3>
<p>If you've enabled <a href="https://help.dreamhost.com/hc/en-us/articles/215873088-Cloudflare-overview">Cloudflare</a> in the DreamHost panel, your site must use the 'www' subdomain. Make sure your .htaccess file does not have any redirects to the non-www version of your URL. If it does and you're using Cloudflare, you may experience a 'Too many redirects' error in your browser.</p>
<h3>WordPress</h3>
<p>This can also be an issue with WordPress as it requires URLs in the database to either use or or not use 'www' in order to operate correctly. View the following article for further details:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215457387#When_removing_.22www.22_breaks_WordPress">When removing "www" breaks WordPress</a></li>
</ul>
<h3>Infinite redirect error</h3>
<p>View the following article if you're seeing your site redirect in a loop after making these changes,.</p>
<ul class="article-list">
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000294332-WordPress-too-many-redirects-error">WordPress 'too many redirects' error</a></li>
</ul>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216456227--htaccess-overview">.htaccess overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/217738987-What-can-I-do-with-an-htaccess-file-">What can I do with an .htaccess file?</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/215089118-Adding-an-SSL-certificate-overview">Adding an SSL certificate overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216456087-Creating-redirects-with-Nginx">Force your Nginx website to load securely</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/218428687-How-do-I-use-an-SSL-certificate-with-WordPress-">How do I use an SSL certificate with WordPress?</a></li>
</ul>
