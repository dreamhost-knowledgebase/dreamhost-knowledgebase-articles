<h2 id="h_01HQVDG75HPGCENXPNY5ZKKPJR">Overview</h2>
<div class="solvvy-solution">
<p>When creating a Python script at DreamHost, there are certain rules that must be followed to ensure the file functions properly.</p>
</div>
<h2 id="h_01HQVDG75HF138FPKWEEAJ806J">File extensions</h2>
<div class="solvvy-solution">
<p>All Python CGI scripts on DreamHost must end with the following extensions:</p>
<table style="border-collapse: collapse; width: 50%;" border="1">
<tbody>
<tr>
<th style="width: 20%;">Extension</th>
<th style="width: 40%;">Use case</th>
</tr>
<tr>
<td>.fcgi</td>
<td>This extension uses FastCGI</td>
</tr>
<tr>
<td>.py</td>
<td>This extension uses&nbsp;CGI</td>
</tr>
<tr>
<td>.cgi</td>
<td>This extension uses&nbsp;CGI</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01HQVDG75HF33SDWK6WBXPY37B">First line of the Python file</h2>
<div class="solvvy-solution">
<p>The very first line of the file could be the server location of Python 3.</p>
<div class="preboxcontainer">
<pre class="prebox">#!/usr/bin/python3</pre>
</div>
<p>However, if you've installed a <a href="https://help.dreamhost.com/hc/en-us/articles/115000702772-Installing-a-custom-version-of-Python-3" target="_self">custom version of Python</a>, the first line in your file should point to that location instead. For example, after installing a custom version of Python, run <span class="code">which python</span>. The output will look like this.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which python</span>
/home/username/opt/python-3.8.5/bin/python3</pre>
</div>
<p>The first line of your file should then look like this.</p>
<div class="preboxcontainer">
<pre class="prebox">#!/home/username/opt/python-3.8.5/bin/python3</pre>
</div>
</div>
<h2 id="h_01HQVDG75HG8RB56S7SHXP66X8">File permissions</h2>
<div class="solvvy-solution">
<p>The file's permissions must be set to 755. You can change this by running the following command via <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH</a>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">chmod 755</span></pre>
</div>
</div>
<h2 id="h_01HQVDG75HZ4YX659SZ83HPVBM">Line endings</h2>
<div class="solvvy-solution">
<p>Make sure to use <a href="https://en.wikipedia.org/wiki/Newline#Representations">UNIX style newlines</a>, not Windows.</p>
</div>
<h2 id="h_01HQVDG75HADSY44NN6B9VG9FM">Viewing output</h2>
<div class="solvvy-solution">
<p>If you want to view printed output from your Python code, you must <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">add this as the first line</a> of output:</p>
<div class="preboxcontainer">
<pre class="prebox">print("Content-type: text/html\n\n")</pre>
</div>
<p>Make sure to use Python 3 parenthesis when creating a print statement.</p>
<ul>
<li><a href="https://docs.python.org/3/whatsnew/3.0.html">https://docs.python.org/3/whatsnew/3.0.html</a></li>
</ul>
</div>
<h2 id="h_01HQVDG75HNNBC9R775MVM2F4V">Hello World! example</h2>
<div class="solvvy-solution">
<p>The code below is will display <span class="text-object">Hello World!</span> in a web browser. Make sure to change <span class="text-object">username</span> to your <a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Creating-a-user-with-Shell-SSH-access" target="_self">Shell user</a>.</p>
<div class="preboxcontainer">
<pre class="prebox">#!/home/<span class="code-highlight">username</span>/opt/python-3.8.5/bin/python3

print("Content-type: text/html\n\n")
print("Hello World!")</pre>
</div>
</div>
<h2 id="h_01HQVDG75H6NE6YSDA4V7MVFJA">Apache execution</h2>
<div class="solvvy-solution">
<p>If you don't want <span class="text-object">.py</span> files to be executed by Apache <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">add the following</a> to your <a href="/hc/en-us/articles/216456227--htaccess-overview">.htaccess</a> file:</p>
<div class="preboxcontainer">
<pre class="prebox">RemoveHandler .py</pre>
</div>
</div>
<h2 id="h_01HQVDG75JBF4HT7BJD5DX22NJ">Unix group</h2>
<div class="solvvy-solution">
<p>At DreamHost, all Python CGI scripts AND their immediate parent directory must have their Unix user and Unix group left set to your domain's Unix user AND that user's DEFAULT Unix group (otherwise you will get an internal server error <a href="http://svn.apache.org/viewvc/httpd/httpd/trunk/support/suexec.c?annotate=758944#l541">from Apache's suexec</a>).</p>
</div>
<h2 id="h_01HQVDG75JZ0SWKQJAATEWHPYJ">See also</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216137717-Python-overview">Python overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">Creating and editing a file via SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000702772-Installing-a-custom-version-of-Python-3">Installing a custom version of Python 3</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115000695551-Installing-and-using-virtualenv-using-Python-3">Installing and using virtualenv with Python 3</a></li>
</ul>
</div>
