<p>WordPress Command Line Interface (or, <a href="http://wp-cli.org/">wp-cli </a>) is installed on all servers at DreamHost. This feature allows you to run WordPress commands from your <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">Shell terminal</a>. For example you can import a database, create a new user, update themes and plugins all using wp-cli.</p>
<p>This article is a quick overview of this service. View the following articles for information on how to create a Shell user and log into your server to run these commands.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Enabling-Shell-access">Enabling Shell access</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
</ul>
<h2><span id="Listing_available_commands">Listing available commands</span></h2>
<p>Log in to your server via <a href="/hc/en-us/articles/216041267-SSH-overview">SSH</a>. Once logged in, make sure you’re in your WordPress site’s directory. In that directory run the following command to print a list of available options:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp</span></pre>
</div>
<p>The following available commands display:</p>
<div class="preboxcontainer">
<pre class="prebox">SUBCOMMANDS

  cache               Manage the object cache.
  cap                 Manage user capabilities.
  checksum            Verify WordPress core checksums.
  cli                 Manage WP-CLI itself.
  comment             Manage comments.
  config              Manage the wp-config.php file
  core                Download, install, update and manage a WordPress install.
  cron                Manage WP-Cron events and schedules.
  db                  Perform basic database operations using credentials stored in wp-config.php
  doctor              Diagnose what ails WordPress.
  eval                Execute arbitrary PHP code.
  eval-file           Load and execute a PHP file.
  export              Export WordPress content to a WXR file.
  find                Find WordPress installs on the filesystem.
  help                Get help on WP-CLI, or on a specific command.
  host-check          Check that the WordPress install is still hosted at its internal domain.
  import              Import content from a WXR file.
  language
  media               Manage attachments.
  menu                List, create, assign, and delete menus.
  network
  option              Manage options.
  package             Manage WP-CLI packages.
  plugin              Manage plugins.
  post                Manage posts.
  post-type           Manage post types.
  profile
  rewrite             Manage rewrite rules.
  role                Manage user roles.
  scaffold            Generate code for post types, taxonomies, plugins, child themes, etc.
  search-replace      Search/replace strings in the database.
  server              Launch PHP's built-in web server for this specific WordPress installation.
  shell               Interactive PHP console.
  sidebar             Manage sidebars.
  site                Perform site-wide operations.
  super-admin         Manage super admins on WordPress multisite.
  taxonomy            Manage taxonomies.
  term                Manage terms.
  theme               Manage themes.
  transient           Manage transients.
  user                Manage users.
  widget              Manage sidebar widgets.
</pre>
</div>
<h2><span id="Finding_more_information_on_a_command">Finding more information on a command</span></h2>
<p>To get more information on a specific command, run the --help option. For example:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin --help</span></pre>
</div>
<p>This prints a list of available subcommands. For example:</p>
<div class="preboxcontainer">
<pre class="prebox">SUBCOMMANDS

 activate          Activate a plugin.
 deactivate        Deactivate a plugin.
 delete            Delete plugin files.
 get               Get a plugin.
 install           Install a plugin.
 is-installed      Check if the plugin is installed.
 list              Get a list of plugins.
 path              Get the path to a plugin or to the plugin directory.
 search            Search the wordpress.org plugin repository.
 status            See the status of one or all plugins.
 toggle            Toggle a plugin's activation state.
 uninstall         Uninstall a plugin.
 update            Update one or more plugins.
</pre>
</div>
<p>You can then combine these with the main command to perform an action. Here is how you’d install a plugin named hello-dolly:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install hello-dolly</span>
Installing Hello Dolly (1.6)
Downloading install package from https://downloads.wordpress.org/plugin/hello-dolly.1.6.zip...
Unpacking the package...
Installing the plugin...
Plugin installed successfully.
</pre>
</div>
<p>If you now run ‘wp plugin list’, all of your plugins appear:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin list</span>
+--------------------+----------+--------+---------+
| name               | status   | update | version |
+--------------------+----------+--------+---------+
| akismet            | inactive | none   | 3.1.1   |
| dreamobjects       | inactive | none   | 3.5.2   |
| hello-dolly        | inactive | none   | 1.6     |
| hello              | inactive | none   | 1.6     |
| jetpack            | active   | none   | 3.5.3   |
| varnish-http-purge | active   | none   | 3.7.2   |
+--------------------+----------+--------+---------+
</pre>
</div>
<h2><span id="Common_commands">Common commands</span></h2>
<p>These popular commands are used most often when debugging:</p>
<h2>Plugins</h2>
<dl>
<dd>
<h3><span id="Deactivating_a_plugin">Deactivating a plugin</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin deactivate PLUGIN_NAME</span></pre>
</div>
<dl>
<dd><em><strong>-or-</strong></em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle NAME</span></pre>
</div>
<h3><span id="Deactivating_installed_plugins_on_multisite_network">Deactivating installed plugins on multisite network</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle NAME --network</span></pre>
</div>
</dd>
</dl>
<h2>Themes</h2>
<dl>
<dd>
<h3><span id="Deactivating_a_theme">Deactivating a theme</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme deactivate THEME_NAME</span></pre>
</div>
<p>You must then activate a different theme:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme activate THEME_NAME</span></pre>
</div>
</dd>
</dl>
<h2>Users</h2>
<dl>
<dd>
<h3>Creating users</h3>
<p>View a list of all current users:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Create a new username while assigning its email and role:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user create newusername support@dreamhost.com --role=administrator</span></pre>
</div>
<h3><span id="Changing_a_password">Changing a password</span></h3>
<p>List all users to view their user ID#:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Use that user ID# to update their password:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user update 3 --user_pass=123456</span></pre>
</div>
<h3>Deleting a user</h3>
<p>View a list of all current users:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Delete the user based on its name:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user delete username</span>
--reassign parameter not passed. All associated posts will be deleted. Proceed? [y/n] <span class="command">y</span></pre>
</div>
</dd>
</dl>
<h2><span id="Flushing_your_cache">Flushing your cache</span></h2>
<dl>
<dd>
<p>Depending on which plugin you’re using, run one of these to flush your cache:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cache flush</span></pre>
</div>
<dl>
<dd><em><strong>-or-</strong></em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp super-cache flush</span></pre>
</div>
</dd>
</dl>
<h2>Updating</h2>
<dl>
<dd>
<h3><span id="Re-updating_core_files">Re-updating core files</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update</span></pre>
</div>
<h3><span id="Forcing_the_DB_upgrade_to_run">Forcing the DB upgrade to run</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update-db</span></pre>
</div>
<h3>Forcefully downloading all core files</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core download --force</span></pre>
</div>
<h3>Updating the 'home' url</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update home http://www.example.com</span></pre>
</div>
<h3>Updating the 'siteurl' url</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update siteurl http://www.example.com</span></pre>
</div>
</dd>
</dl>
<h2><span id="See_also">See also</span></h2>
<ul>
<li><a href="http://wp-cli.org/">http://wp-cli.org/</a> – Official WP CLI website</li>
<li><a href="/hc/en-us/articles/215525287-WordPress-overview">WordPress overview</a></li>
</ul>
