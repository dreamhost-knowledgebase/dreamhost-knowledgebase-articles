<div id="auto-toc">&nbsp;</div>
<h2>Overview</h2>
<div class="solvvy-solution">
<p>WordPress Command Line Interface (<a href="https://wp-cli.org/">wp-cli </a>) is a command-line WordPress tool installed on all DreamHost servers. <span class="text-product">wp-cli</span> allows you to run WordPress commands from your <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">Shell terminal</a> to manage your WordPress site without the need to log in to the WordPress dashboard.</p>
<div class="notebox-note">
<p>You will need to log in to your server via SSH to use <span class="text-product">wp-cli</span>. View the following articles for information on how to create a Shell user and log into your server.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Creating-a-user-with-Shell-SSH-access">Creating a user with Shell (SSH) access</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
</ul>
<p>After you're logged in to your server, make sure you’re in your <a href="https://help.dreamhost.com/hc/en-us/articles/360001219231#the-website-directory" target="_self">website’s directory</a>. This is where you'll run all commands in this article.</p>
</div>
</div>
<h2 class="header-section">General</h2>
<p>These are a few general commands to get you started.</p>
<div id="commands" class="section-link">&nbsp;</div>
<h2>View all wp-cli commands</h2>
<div class="solvvy-solution">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp</span></pre>
</div>
<p>A list of all available commands displays.</p>
</div>
<div id="help" class="section-link">&nbsp;</div>
<h2>Using --help to view command information</h2>
<div class="solvvy-solution">
<p>To get more information on a specific command, run the <span class="code">--help</span> option.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin --help</span></pre>
</div>
<p>This prints a list of available subcommands. For example:</p>
<div class="preboxcontainer">
<pre class="prebox">SUBCOMMANDS
  
    activate              Activates one or more plugins.
    deactivate            Deactivates one or more plugins.
    delete                Deletes plugin files without deactivating or uninstalling.
    get                   Gets details about an installed plugin.
    install               Installs one or more plugins.
    is-active             Checks if a given plugin is active.
    is-installed          Checks if a given plugin is installed.
    list                  Gets a list of plugins.
    path                  Gets the path to a plugin or to the plugin directory.
    search                Searches the WordPress.org plugin directory.
    status                Reveals the status of one or all plugins.
    toggle                Toggles a plugin's activation state.
    uninstall             Uninstalls one or more plugins.
    update                Updates one or more plugins.
    verify-checksums      Verifies plugin files against WordPress.org's checksums.  </pre>
</div>
<p>You can then add one of these subcommands to the main command to perform an action. Here is how you’d install a plugin named <span class="text-object">hello-dolly</span>:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install <span class="code-highlight">hello-dolly</span></span>
  Installing Hello Dolly (1.6)
  Downloading install package from https://downloads.wordpress.org/plugin/hello-dolly.1.6.zip...
  Unpacking the package...
  Installing the plugin...
  Plugin installed successfully.  </pre>
</div>
</div>
<div id="version" class="section-link">&nbsp;</div>
<h2>wp cli version</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">View the <span class="text-product">wp-cli</span> version</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli version</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Check for updates</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli check-update</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Update <span class="text-product">wp-cli</span></span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli update</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="header-section">Top commands</h2>
<p>These commands are the most commonly used.</p>
<div id="plugins" class="section-link">&nbsp;</div>
<h2>Plugins</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p><strong>Obtaining the correct name of the plugin</strong></p>
<p>The name you use when entering the <span class="code">PLUGIN_NAME</span> must be the name from the plugin site's web page. For example, if you wanted to install <span class="text-object">W3 Total Cache</span> you'd visit this page:</p>
<ul>
<li><a href="https://wordpress.org/plugins/w3-total-cache/" target="_blank" rel="noopener noreferrer">https://wordpress.org/plugins/w3-total-cache/</a></li>
</ul>
<p>You can see it ends with <span class="code">w3-total-cache</span>. This is the plugin name you would enter in the commands below.</p>
</div>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">View installed plugins</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Install a plugin</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Activate a plugin</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin activate <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Deactivate a plugin</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin deactivate <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
<dl>
<dd><em><strong>-or-</strong></em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="themes" class="section-link">&nbsp;</div>
<h2>Themes</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">View installed themes</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Install a theme</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme install <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Activate a different theme</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme activate <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Update a theme</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme update <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="updating" class="section-link">&nbsp;</div>
<h2>Updating WordPress</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">View the current WordPress version</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core version</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Check for WordPress version updates</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core check-update</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Update WordPress to a newer version</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Force download all core files.</span>This forces the core WordPress files to be re-downloaded into your current directory and overwrite any core files that already exist.</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core download --force</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="users" class="section-link">&nbsp;</div>
<h2>Users</h2>
<div class="solvvy-solution">
<h3>Creating users</h3>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">View a list of all current users</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p><span class="wysiwyg-font-size-large">Create a new username while assigning its email and <a href="https://wordpress.org/support/article/roles-and-capabilities/" target="_blank" rel="noopener noreferrer">role</a>.</span>&nbsp;A new password is printed to the terminal after the user is created.</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user create <span class="code-highlight">newusername admin@example.com</span> --role=<span class="code-highlight">administrator</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="Changing_a_password" class="section-link">&nbsp;</div>
<h2>Changing a password</h2>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td>Run <span class="code">wp user list</span> to obtain a user's ID#. Use that user ID# to update their password. This example is changing a user with an ID# of <span class="code">3</span>. You would then need to inform the user of their password change.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user update <span class="code-highlight">3</span> --user_pass=<span class="code-highlight">NEW_PASSWORD</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
<h3>Deleting a user</h3>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td>Run <span class="code">wp user list</span> to obtain the ID# of the user you wish to delete and the user you wish to reassign its posts. You'll need to to reassign any posts to another user so they are not permanently deleted. This example deletes a user with an ID# of <span class="code">13</span> and reassigns their posts to user <span class="code">7</span>.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user delete <span class="code-highlight">13</span> --reassign=<span class="code-highlight">7</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<h2 class="header-section">Troubleshooting</h2>
<div id="cache" class="section-link">&nbsp;</div>
<h2>Cache</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td style="width: 40%;"><span class="wysiwyg-font-size-large">Flush your site's cache</span></td>
<td style="width: 60%;">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cache flush</span></pre>
</div>
</td>
</tr>
<tr>
<td style="width: 40%;"><span class="wysiwyg-font-size-large">Clear the <span class="text-product">wp-cli</span> cache</span></td>
<td style="width: 60%;">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli cache clear</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="database" class="section-link">&nbsp;</div>
<h2>Database</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Check the status of the database</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db check</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Optimize the database</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db optimize</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Repair the database</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db repair</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Search for text in the database.</span><br />This searches for the word <span class="text-object">hello</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db search <span class="code-highlight">hello</span></span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Upgrade the database version</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update-db</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="permalinks" class="section-link">&nbsp;</div>
<h2>Permalinks</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Flush permalinks. </span>This is the same as re-saving them in the dashboard.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command"> wp rewrite flush</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h2 class="header-section">Custom changes</h2>
<div id="home-siteurl" class="section-link">&nbsp;</div>
<h2>Updating the home and siteurl</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">View the home and siteurl</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command"> wp option list | grep -E "^(siteurl|home)"</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Update the <span class="text-object">home</span> url</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update home <span class="code-highlight">https://example.com</span></span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Update the <span class="text-object">siteurl</span></span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update siteurl <span class="code-highlight">https://example.com</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="wxr" class="section-link">&nbsp;</div>
<h2>Importing and exporting a WXR file</h2>
<div class="solvvy-solution">
<p>You can use the <span class="code">import</span> and <span class="code">export</span> commands to manage your site data with a <span class="text-object">WXR</span> file. View the following article for details.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360050852091-Importing-and-exporting-a-WXR-file-in-WordPress" target="_self">Importing and exporting a WXR file</a></li>
</ul>
</div>
<div id="search-and-replace" class="section-link">&nbsp;</div>
<h2>Search and Replace</h2>
<div class="solvvy-solution">
<p>Search and replace text in your database. Make sure to use the <span class="code">--dry-run</span> flag the first time to see what will change.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp search-replace <span class="code-highlight">http://example.com https://example.com/blog</span> --dry-run</span></pre>
</div>
<p>A list of fields that will be updated displays in your terminal. If you'd like to update all output displayed, run the command again without the <span class="code">--dry-run</span> flag.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp search-replace <span class="code-highlight">http://example.com https://example.com/blog</span></span></pre>
</div>
</div>
<div id="wpconfig" class="section-link">&nbsp;</div>
<h2>wp-config.php</h2>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Action</th>
<th style="width: 60%;">Command</th>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">View all settings in your <span class="text-object">wp-config.php</span> file</span></td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp config list</span></pre>
</div>
</td>
</tr>
<tr>
<td><span class="wysiwyg-font-size-large">Update a setting in your <span class="text-object">wp-config.php</span> file.</span><br />This updates the <span class="code">DB_HOST</span> value.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp config set <span class="code-highlight">DB_HOST mysql.example.com</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="updating-php-version" class="section-link">&nbsp;</div>
<h2>Updating the PHP version wp-cli uses</h2>
<div class="solvvy-solution">
<ol>
<li>View the current version of PHP and its location by running the following command:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli info</span></pre>
</div>
</li>
<li>To change the version of PHP <span class="text-product">wp-cli</span> uses, <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH" target="_self">add the following line</a> to your <span class="text-object">.bash_profile</span>. Change the version as needed. This example uses PHP 8.2.
<div class="preboxcontainer">
<pre class="prebox">export WP_CLI_PHP=/usr/local/php82/bin/php wp</pre>
</div>
</li>
<li>Update the <span class="text-object">.bash_profile</span>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Check to confirm <span class="text-product">wp-cli</span> is using this new version.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli info</span>
PHP binary:     /usr/local/php82/bin/php
PHP version:    8.2
</pre>
</div>
</li>
</ol>
</div>
<h2>See also</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://wp-cli.org/" target="_self" rel="undefined">wp-cli.org</a> – Official WP CLI website</li>
<li><a href="https://developer.wordpress.org/cli/commands/" target="_self">wp-cli commands</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360001310966-How-to-log-into-your-WordPress-site">How to log into your WordPress site</a></li>
<li><a href="/hc/en-us/articles/215525287-WordPress-overview">WordPress overview</a></li>
</ul>
</div>
