<h2>Overview</h2>
<div class="solvvy-solution">
<p>WordPress Command Line Interface (or, <a href="http://wp-cli.org/">wp-cli </a>) is installed on all servers at DreamHost. This feature allows you to run WordPress commands from your <a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">Shell terminal</a>. For example you can import a database, create a new user, update themes and plugins all using wp-cli.</p>
<p>This article is a quick overview of this service. View the following articles for information on how to create a Shell user and log into your server to run these commands.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216385837-Creating-a-user-with-Shell-SSH-access">Creating a user with Shell (SSH) access</a></li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/216041267-SSH-overview">SSH overview</a></li>
</ul>
</div>
<h2><span id="Listing_available_commands">Listing available commands</span></h2>
<div class="solvvy-solution">
<p>Log in to your server via <a href="/hc/en-us/articles/216041267-SSH-overview">SSH</a>. Once logged in, make sure you’re in your WordPress site’s directory. In that directory run the following command to print a list of available options:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp</span></pre>
</div>
<p>The following available commands display:</p>
<div class="preboxcontainer">
<pre class="prebox">SUBCOMMANDS

  cache               Adds, removes, fetches, and flushes the WP Object Cache object.
  cap                 Adds, removes, and lists capabilities of a user role.
  cli                 Review current WP-CLI info, check for updates, or see defined aliases.
  comment             Creates, updates, deletes, and moderates comments.
  config              Generates and reads the wp-config.php file.
  core                Downloads, installs, updates, and manages a WordPress installation.
  cron                Tests, runs, and deletes WP-Cron events; manages WP-Cron schedules.
  db                  Performs basic database operations using credentials stored in wp-config.php.
  dh-find-check       Combines finding and checking whether the installation is still hosted.
  doctor              Diagnose what ails WordPress.
  embed               Inspects oEmbed providers, clears embed cache, and more.
  eval                Executes arbitrary PHP code.
  eval-file           Loads and executes a PHP file.
  export              Exports WordPress content to a WXR file.
  find                Find WordPress installations on the filesystem.
  help                Get help on WP-CLI, or on a specific command.
  host-check          Checks hosting status for WordPress installation.
  import              Imports content from a given WXR file.
  language            Installs, activates, and manages language packs.
  media               Imports files as attachments, regenerates thumbnails, or lists registered image sizes.
  menu                Lists, creates, assigns, and deletes the active theme's navigation menus.
  network             Perform network-wide operations.
  option              Retrieves and sets site options, including plugin and WordPress settings.
  package             Lists, installs, and removes WP-CLI packages.
  php-compat          Scan WordPress, plugins and themes for PHP version compatibility.
  plugin              Manages plugins, including installs, activations, and updates.
  post                Manages posts, content, and meta.
  post-type           Retrieves details on the site's registered post types.
  profile
  reinstall           Reinstalls WordPress core, themes, and plugins.
  rewrite             Lists or flushes the site's rewrite rules, updates the permalink structure.
  role                Manages user roles, including creating new roles and resetting to defaults.
  scaffold            Generates code for post types, taxonomies, plugins, child themes, etc.
  search-replace      Searches/replaces strings in the database.
  server              Launches PHP's built-in web server for a specific WordPress installation.
  shell               Opens an interactive PHP console for running and testing PHP code.
  sidebar             Lists registered sidebars.
  site                Creates, deletes, empties, moderates, and lists one or more sites on a multisite installation.
  super-admin         Lists, adds, or removes super admin users on a multisite installation.
  taxonomy            Retrieves information about registered taxonomies.
  term                Manages taxonomy terms and term meta, with create, delete, and list commands.
  theme               Manages themes, including installs, activations, and updates.
  transient           Adds, gets, and deletes entries in the WordPress Transient Cache.
  user                Manages users, along with their roles, capabilities, and meta.
  widget              Manages widgets, including adding and moving them within sidebars.</pre>
</div>
</div>
<h2><span id="Finding_more_information_on_a_command">Finding more information on a command</span></h2>
<div class="solvvy-solution">
<p>To get more information on a specific command, run the --help option. For example:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin --help</span></pre>
</div>
<p>This prints a list of available subcommands. For example:</p>
<div class="preboxcontainer">
<pre class="prebox">SUBCOMMANDS

 activate          Activate a plugin.
 deactivate        Deactivate a plugin.
 delete            Delete plugin files.
 get               Get a plugin.
 install           Install a plugin.
 is-installed      Check if the plugin is installed.
 list              Get a list of plugins.
 path              Get the path to a plugin or to the plugin directory.
 search            Search the wordpress.org plugin repository.
 status            See the status of one or all plugins.
 toggle            Toggle a plugin's activation state.
 uninstall         Uninstall a plugin.
 update            Update one or more plugins.
</pre>
</div>
<p>You can then combine these with the main command to perform an action. Here is how you’d install a plugin named hello-dolly:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install hello-dolly</span>
Installing Hello Dolly (1.6)
Downloading install package from https://downloads.wordpress.org/plugin/hello-dolly.1.6.zip...
Unpacking the package...
Installing the plugin...
Plugin installed successfully.
</pre>
</div>
<p>If you now run ‘wp plugin list’, all of your plugins appear:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin list</span>
+--------------------+----------+--------+---------+
| name               | status   | update | version |
+--------------------+----------+--------+---------+
| akismet            | inactive | none   | 3.1.1   |
| dreamobjects       | inactive | none   | 3.5.2   |
| hello-dolly        | inactive | none   | 1.6     |
| hello              | inactive | none   | 1.6     |
| jetpack            | active   | none   | 3.5.3   |
| varnish-http-purge | active   | none   | 3.7.2   |
+--------------------+----------+--------+---------+
</pre>
</div>
</div>
<h2><span id="Common_commands">Common commands</span></h2>
<div class="solvvy-solution">
<p>These popular commands are used most often when debugging:</p>
</div>
<h2>Plugins</h2>
<div class="solvvy-solution">
<dl>
<dd>
<h3>Installing a plugin</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install PLUGIN_NAME</span></pre>
</div>
<h3>Activating a plugin</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin activate PLUGIN_NAME</span></pre>
</div>
</dd>
</dl>
<dl>
<dd>
<h3><span id="Deactivating_a_plugin">Deactivating a plugin</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin deactivate PLUGIN_NAME</span></pre>
</div>
<dl>
<dd><em><strong>-or-</strong></em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle NAME</span></pre>
</div>
<h3><span id="Deactivating_installed_plugins_on_multisite_network">Deactivating installed plugins on multisite network</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle NAME --network</span></pre>
</div>
</dd>
</dl>
</div>
<h2>Themes</h2>
<div class="solvvy-solution">
<dl>
<dd>
<h3>Installing a theme</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme install THEME_NAME</span></pre>
</div>
</dd>
</dl>
<dl>
<dd>
<h3><span id="Deactivating_a_theme">Deactivating a theme</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme deactivate THEME_NAME</span></pre>
</div>
<p>You must then activate a different theme:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme activate THEME_NAME</span></pre>
</div>
</dd>
</dl>
</div>
<h2><span id="users">Users</span></h2>
<div class="solvvy-solution">
<dl>
<dd>
<h3>Creating users</h3>
<p>View a list of all current users:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Create a new username while assigning its email and role:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user create newusername support@dreamhost.com --role=administrator</span></pre>
</div>
<h3><span id="Changing_a_password">Changing a password</span></h3>
<p>List all users to view their user ID#:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Use that user ID# to update their password:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user update 3 --user_pass=123456</span></pre>
</div>
<h3>Deleting a user</h3>
<p>View a list of all current users:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
<p>Delete the user based on its name:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user delete username</span>
--reassign parameter not passed. All associated posts will be deleted. Proceed? [y/n] <span class="command">y</span></pre>
</div>
</dd>
</dl>
</div>
<h2><span id="Flushing_your_cache">Flushing your cache</span></h2>
<div class="solvvy-solution">
<dl>
<dd>
<p>Run this to flush your cache:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cache flush</span></pre>
</div>
<dl>
<dd></dd>
</dl>
</dd>
</dl>
</div>
<h2>Updating</h2>
<div class="solvvy-solution">
<dl>
<dd>
<h3><span id="Re-updating_core_files">Re-updating core files</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update</span></pre>
</div>
<h3><span id="Forcing_the_DB_upgrade_to_run">Forcing the DB upgrade to run</span></h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update-db</span></pre>
</div>
<h3>Forcefully downloading all core files</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core download --force</span></pre>
</div>
<h3>Updating the 'home' url</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update home http://www.example.com</span></pre>
</div>
<h3>Updating the 'siteurl' url</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update siteurl http://www.example.com</span></pre>
</div>
</dd>
</dl>
</div>
<h2>Updating the PHP version wp-cli uses</h2>
<div class="solvvy-hidden">
<ol>
<li>To change the version of PHP wp-cli uses, <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH" target="_self">add the following line</a> to your .bash_profile. Change the version as needed.
<div class="preboxcontainer">
<pre class="prebox">export WP_CLI_PHP=/usr/local/php72/bin/php wp</pre>
</div>
</li>
<li>Next, <span class="code">source</span> the <span class="text-object">.bash_profile</span> by running this:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Finally, check to confirm wp-cli is using this new version by running <span class="code">wp --info</span>.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp --info</span>

OS:     Linux 4.14.117-grsec-grsec+ #1 SMP Fri May 10 17:15:47 PDT 2019 x86_64
Shell:  /bin/bash
PHP binary:     /usr/local/php72/bin/php
PHP version:    7.2.13</pre>
</div>
</li>
</ol>
</div>
<h2><span id="See_also">See also</span></h2>
<div class="solvvy-hidden">
<ul>
<li><a href="http://wp-cli.org/">http://wp-cli.org/</a> – Official WP CLI website</li>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360001310966-How-to-log-into-your-WordPress-site">How to log into your WordPress site</a></li>
<li><a href="/hc/en-us/articles/215525287-WordPress-overview">WordPress overview</a></li>
</ul>
</div>
