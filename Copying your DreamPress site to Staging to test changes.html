<h2 id="h_01HA3532TSFRW47MZCM1HPAZHT">Overview</h2>
<div class="solvvy-solution">
<p>This article describes how to copy your primary DreamPress site to a staging website. The staging site allows you to test changes you plan on making on your live site while your live site remains up and running normally.</p>
<p>When you're finished working on your staging site and have it configured the way you like, you can then <a href="https://help.dreamhost.com/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site" target="_self">publish those changes back into your live website</a>.</p>
<h3 id="h_01HA3532TSSHVNHSW8ZZNSJ35T">Notes about copying your DreamPress site to staging</h3>
<div class="notebox-important">
<p>If your site has been previously hacked and then used DreamHost's <a href="https://help.dreamhost.com/hc/en-us/articles/226704048-Enable-and-manage-DreamShield">DreamShield</a> service, you must clean up the files that were hacked/disabled before you are able to enable staging on your site.</p>
</div>
<ul>
<li>DreamPress Staging uses Git to copy files. If you have your own active Git repository in one of your live site's folders, the folder's contents will not be copied to your staging site. To use staging successfully, you can manually copy the contents of the folder using SFTP or SSH. DreamPress recommends as a best practice to manage your Git repository in a separate development environment instead of your live site.</li>
<li>When you enable staging for the first time, your DreamPress plan must have at least 5 GB of free space.</li>
<li>The Uploads folder is not copied to your staging site, in order to use disk space efficiently. Replacing an existing image in your Media Library will modify it for the live site.</li>
</ul>
</div>
<h2 id="h_01HA3532TS9QYMEYX06R2QRZYP">Copying your live site to the staging site</h2>
<div class="solvvy-solution">
<p>The following steps show you how to copy your live DreamPress website to your staging website. You can then test and work on the staging site without affecting the live site.</p>
<ol>
<li>Navigate to the <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=wordpress.dreampress&amp;" target="_blank" rel="noopener noreferrer">Managed WordPress</a> page.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-10_panel_dreampress_add_08.fw.png" alt="2018-10_panel_dreampress_add_08.fw.png" /></dd>
</dl>
</li>
<li>Click the <strong>Manage</strong> button to the right of your primary domain.
<dl>
<dd><em>The Manage DreamPress page opens:</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2019-06_panel_dreampress_staging_01.fw.png" alt="2019-06_panel_dreampress_staging_01.fw.png" /></dd>
</dl>
</li>
<li>Click the <span class="text-object">Staging</span> tab.
<dl>
<dd><em>The Manage Staging dashboard page opens prompting you to create a staging site:</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2019-06_panel_dreampress_staging_02.fw.png" alt="2019-06_panel_dreampress_staging_02.fw.png" /></dd>
</dl>
</li>
<li>Click the&nbsp;<strong>Create Staging Site</strong> button.
<div class="notebox-note">
<p>A staging site is automatically created with a new name. Please note that it's not possible to give your staging site a custom name.</p>
</div>
</li>
</ol>
<dl>
<dd><em>A progress meter shows the status:</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2019-06_panel_dreampress_staging_05.fw.png" alt="2019-06_panel_dreampress_staging_05.fw.png" /></dd>
</dl>
<p>Once your website is finished copying to your staging site, an email confirmation is sent to you.</p>
</div>
<h2 id="h_01HA3532TSQH26DGD223AKNZTY">Managing your Staging website</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>The staging environment is not included in the DreamPress domain’s daily backups. You are responsible for maintaining your own backups of any content you add in the staging environment.</p>
</div>
<p>After your staging website is created, the following page appears in your Manage Staging dashboard:</p>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2019-06_panel_dreampress_staging_03.fw.png" alt="2019-06_panel_dreampress_staging_03.fw.png" /></dd>
</dl>
<p>Your Staging Website domain name appears at the top. This example shows "exampledreamhostcom.stage.site".</p>
<ul>
<li><strong>Access Your Staging Website</strong> — Shows the Username and Password you use to access your login-protected website.</li>
<li><strong>Staging WordPress Admin</strong> — Opens the WP-Admin page where you can make edits to your staging website.</li>
<li><strong>File Upload</strong> — Shows the FTP credentials for your staging website so you can transfer files through DreamHost's file manager or your third-party FTP client.</li>
<li><strong>Database (MySQL)</strong> — Shows your database (MySQL) credentials so you can manage your databases using phpMyAdmin.</li>
<li><strong>Configure PHP</strong> — Allows you to change the PHP version of your staging website when a newer PHP version is available. See the section below for more details.</li>
</ul>
</div>
<h2 id="h_01HA3532TSXM1SRMYKV6E4723K"><span id="Testing_php_on_staging">Testing newer versions of PHP on Staging</span></h2>
<div class="solvvy-solution">
<p>The Configure PHP option allows you to test newer versions of PHP on a staging site, without affecting your live DreamPress website.</p>
<p>If your staging site works on a newer version of PHP, you can publish your staging website - and the newer version of PHP - to your live DreamPress website. It is not possible to downgrade PHP on your live DreamPress site using this method.</p>
<div class="notebox-important">
<p>Before proceeding, ensure that you have published a copy of your live DreamPress website to Staging, using the steps above.</p>
</div>
<p>The following steps show you how to change the PHP version of your staging website from the Staging dashboard.</p>
<ol>
<li>Find the Configure PHP option at the bottom of the dashboard.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-dreampress-configure-php-01.png" alt="upgrading staging php" width="400" height="225" /></dd>
</dl>
</li>
<li>Click the <strong>Upgrade PHP to…</strong> button.
<dl>
<dd><em>A progress meter shows the status.</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-dreampress-configure-php-02.png" alt="upgrading staging php" width="400" height="232" /></dd>
</dl>
</li>
<li>Once the upgrade is complete, the Staging dashboard will show the current version of PHP in use on your staging site under Configure PHP.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/panel-dreampress-configure-php-03.png" alt="upgrading staging php" width="400" height="223" /></dd>
</dl>
</li>
<li>Once the upgrade is complete, log into your staging website and examine it to ensure it is working as expected. See the Logging into your Staging site section below for more details.</li>
<li>If your site works on the new version of PHP, you can publish your changes from your staging website to your live DreamPress site. View the following article for instructions:
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site" target="_self">Publishing your changes from Staging to your live DreamPress site</a></li>
</ul>
</li>
</ol>
</div>
<h2 id="h_01HA3532TSZSHXF0H8VJFWWNR7"><span id="Logging_into_staging">Logging into your Staging site</span></h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>You may see the following git status error message, which appears under Tools &gt; Site Health (in the 'Background updates may not be working properly' section under <span class="text-object">Security</span> in the WP-Admin panel):</p>
<div class="preboxcontainer">
<pre class="prebox">The folder /home/wp_xyz/example.com/ was detected as being under version control (.git).</pre>
</div>
<p>This message will always appear for every DreamPress staging site and you can safely ignore it. Git will not break your site.</p>
</div>
<p>If you previously <a href="https://help.dreamhost.com/hc/en-us/articles/360001310966#password">updated your DreamPress admin password</a>, you can use the same username and password from your live site to log into your staging site.</p>
<p>If you did not manually change your password, you can log into your Staging WordPress site from your DreamPress panel. Click the <strong>Managing Staging WordPress</strong> button to automatically log you into the admin dashboard.</p>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/manage-staging-wordpress.png" /></dd>
</dl>
</div>
<h2 id="h_01HA3532TTCMRGE6MRFQRYR0V4">Publishing your changes</h2>
<div class="solvvy-solution">
<p>When you're ready, you can use the Staging dashboard page to publish changes to your live website. See the following article for more information:</p>
<ul>
<li><a href="/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site">Publishing your changes from Staging to your live DreamPress site</a></li>
</ul>
</div>
