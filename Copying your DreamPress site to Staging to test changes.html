<h2 id="h_01HA3532TSFRW47MZCM1HPAZHT">Overview</h2>
<div class="solvvy-solution">
<p>This article describes copying your primary DreamPress site to a staging website. The staging site allows you to test changes you plan on making on your live site while your live site remains up and running normally.</p>
<p>When you're finished working on your staging site and have it configured how you like, you can <a href="https://help.dreamhost.com/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site" target="_self">publish those changes back into your live website</a>.</p>
<h3 id="h_01HA3532TSSHVNHSW8ZZNSJ35T">Notes about copying your DreamPress site to staging</h3>
<div class="notebox-important">
<p>If your site has been previously hacked and then used DreamHost's <a href="https://help.dreamhost.com/hc/en-us/articles/226704048-Enable-and-manage-DreamShield">DreamShield</a> service, you must clean up the files that were hacked/disabled before you can enable staging on your site.</p>
</div>
<ul>
<li>DreamPress Staging uses Git to copy files. If you have your own active Git repository in one of your live site's folders, the folder's contents will not be copied to your staging site. To use staging successfully, you can manually copy the folder's contents using SFTP or SSH. DreamPress recommends, as a best practice, to manage your Git repository in a separate development environment instead of your live site.</li>
<li>When you enable staging for the first time, your DreamPress plan must have at least 5 GB of free space.</li>
<li>The Uploads folder is not copied to your staging site in order to use disk space efficiently. Replacing an existing image in your Media Library will modify it for the live site.</li>
</ul>
</div>
<h2 id="h_01HA3532TS9QYMEYX06R2QRZYP">Copying your live site to the staging site</h2>
<div class="solvvy-solution">
<p>The following steps show you how to copy your live DreamPress website to your staging website. You can then test and work on the staging site without affecting the live site.</p>
<ol>
<li>Navigate to the <a class="panel-link" href="https://panel.dreamhost.com/?tree=domain.dashboard#!/list-view" target="_blank" rel="noopener noreferrer">Manage Websites</a> page.</li>
<li>Click the <strong>Manage</strong> button to open the <a href="https://help.dreamhost.com/hc/en-us/articles/360043889332-The-Doomain-Settings-page" target="_blank" rel="noopener noreferrer">Domain Settings</a> page, which allows you to adjust various settings for your site.
<ul>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">Grid view</a>, click the <strong>Manage</strong> button at the bottom of the website box.</li>
<li>If in&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360043889332#grid_or_list" target="_self" rel="undefined">List view</a>, click the&nbsp;<strong>Manage</strong> button at the far right of your domain name.</li>
</ul>
</li>
<li>Click the <span class="text-object">Staging</span> tab to open the <span class="text-object">Staging Website</span> dashboard.</li>
<li>Click the <strong>Create a Staging Site</strong> button.
<div class="notebox-note">
<p>A staging site is automatically created with a new name. Please note that it's not possible to give your staging site a custom name.</p>
</div>
<dl></dl>
</li>
</ol>
<dl></dl>
<p>Once your website is finished copying to your staging site, an email confirmation is sent to you.</p>
</div>
<h2 id="h_01HA3532TSQH26DGD223AKNZTY">Managing your Staging website</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>The staging environment is not included in the DreamPress domain’s daily backups. You are responsible for maintaining your own backups of any content you add in the staging environment.</p>
</div>
<p>After you create a staging environment, the <span class="text-object">Staging Website</span> page appears where your staging domain name appears at the top. The following settings also appear:</p>
<ul>
<li><strong>Access Your Staging Website</strong> — Shows the Username and Password you use to access your login-protected website.</li>
<li><strong>Staging WordPress Admin</strong> — Opens the WP-Admin page where you can edit your staging website.</li>
<li><strong>File Upload</strong> — Shows the FTP credentials for your staging website so you can transfer files through DreamHost's file manager or your third-party FTP client.</li>
<li><strong>Database (MySQL)</strong> — Shows your database (MySQL) credentials so you can manage your databases using phpMyAdmin.</li>
<li><strong>Configure PHP</strong> — Allows you to change the PHP version of your staging website when a newer PHP version is available. See the section below for more details.</li>
</ul>
</div>
<h2 id="h_01HA3532TSXM1SRMYKV6E4723K"><span id="Testing_php_on_staging">Testing newer versions of PHP on Staging</span></h2>
<div class="solvvy-solution">
<p>The Configure PHP option allows you to test newer versions of PHP on a staging site without affecting your live DreamPress website.</p>
<p>If your staging site works on a newer version of PHP, you can publish your staging website - and the newer version of PHP - to your live DreamPress website. It is not possible to downgrade PHP on your live DreamPress site using this method.</p>
<div class="notebox-important">
<p>Before proceeding, ensure you have published a copy of your live DreamPress website to Staging using the steps above.</p>
</div>
<p>The following steps show you how to change the PHP version of your staging website from the Staging dashboard.</p>
<ol>
<li>Find the <span class="text-section">Configure PHP</span> section at the bottom of the <span class="text-object">Staging Website</span> dashboard.</li>
<li>Click the <strong>Change PHP to…</strong> button. Once the upgrade is complete, the dashboard will show the current version of PHP in use on your staging site under <span class="text-section">Configure PHP</span>.</li>
<li>Log into your staging website and examine it to ensure it works as expected. See the <span class="text-section">Logging into your Staging site</span> section below for more details.</li>
</ol>
<p>If your site works on the new version of PHP, you can publish changes from your staging website to your live DreamPress site. View the following article for instructions:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site" target="_self">Publishing your changes from Staging to your live DreamPress site</a></li>
</ul>
</div>
<h2 id="h_01HA3532TSZSHXF0H8VJFWWNR7"><span id="Logging_into_staging">Logging into your Staging site</span></h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>You may see the following git status error message, which appears under Tools &gt; Site Health (in the 'Background updates may not be working properly' section under <span class="text-object">Security</span> in the WP-Admin panel):</p>
<div class="preboxcontainer">
<pre class="prebox">The folder /home/wp_xyz/example.com/ was detected as being under version control (.git).</pre>
</div>
<p>This message will always appear for every DreamPress staging site, and you can safely ignore it. Git will not break your site.</p>
</div>
<p>If you previously <a href="https://help.dreamhost.com/hc/en-us/articles/360001310966#password">updated your DreamPress admin password</a>, you can use the same username and password from your live site to log into your staging site.</p>
<p>If you did not manually change your password, you can log into your Staging WordPress site from your <span class="text-object">Staging Website</span> dashboard. Click the <strong>Managing Staging WordPress</strong> button to automatically log you into the admin dashboard.</p>
</div>
<h2 id="h_01HA3532TTCMRGE6MRFQRYR0V4">Publishing your changes</h2>
<div class="solvvy-solution">
<p>When you're ready, you can use the <span class="text-object">Staging Website</span> dashboard page to publish changes to your live website. See the following article for more information:</p>
<ul>
<li><a href="/hc/en-us/articles/115003444252-Publishing-your-changes-from-Staging-to-your-live-DreamPress-site">Publishing your changes from Staging to your live DreamPress site</a></li>
</ul>
</div>
