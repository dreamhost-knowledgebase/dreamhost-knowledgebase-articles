<h2>Overview</h2>
<div class="solvvy-solution">
<p>This article explains how to enable <a href="https://oauth.net/articles/authentication/" target="_self" rel="undefined">OAuth2 authentication</a> in your Google panel to authenticate your WordPress <span class="text-object">WP Mail SMTP</span> plugin. This allows you to send FROM your Google address using this plugin. The credentials created during this process can be used in any plugin that allows them.</p>
<p>The process is split into two parts:</p>
<ul>
<li><a href="#setting-up-oauth2" target="_self">Setting up OAuth2 in your Google account</a></li>
<li><a href="#connecting-to-oauth2" target="_self">Connecting WP SMTP Mail to Google via OAuth2</a></li>
</ul>
<div class="alert-warning">
<p>Make sure you're signed into your WordPress site and Google using the same browser while following these instructions.</p>
<p>Make sure you are also only logged into a single Google account. This will help to avoid any configuration issues.</p>
</div>
</div>
<h2>Configure the SMTP plugin in WordPress</h2>
<div class="solvvy-solution">
<p>First, view the following article for instructions on how to configure the WordPress SMTP plugin for your Gmail address:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360029770912-Configuring-the-WP-Mail-SMTP-plugin-with-Gmail" target="_self">Configuring the 'WP Mail SMTP' plugin with Gmail</a></li>
</ul>
<p>Once set up, you will still not be able to send. You now must allow Google to send email from your WordPress site. Proceed with the steps below to enable OAuth2 authentication.</p>
</div>
<h2><span id="setting-up-oauth2">Setting up OAuth2 in your Google account</span></h2>
<div class="solvvy-solution">
<p>Now that your WordPress plugin is set up, you must allow Google to send from your site. You can enable this within your Google account.</p>
<ol>
<li>Log into your Google account.</li>
<li>Visit the following link in your Google account.
<ul>
<li><a href="https://console.developers.google.com/projectcreate" target="_blank" rel="noopener noreferrer"> https://console.developers.google.com/projectcreate </a></li>
</ul>
<p>If this is the first time you've enabled the API, enter a project name and then click the <strong>Create</strong> button.</p>
</li>
<li>Visit the following link after creating your project.
<ul>
<li><a href="https://console.developers.google.com/flows/enableapi?apiid=gmail&amp;credential=client_key&amp;pli=1" target="_blank" rel="noopener noreferrer"> https://console.developers.google.com/flows/enableapi?apiid=gmail&amp;credential=client_key&amp;pli=1 </a></li>
</ul>
</li>
<li>Click the <strong>Next</strong> button to confirm the project selected.</li>
<li>On the next page, click the <strong>Enable</strong> button.</li>
<li>From the left-hand menu, navigate to <span class="text-section">APIs &amp; Services &gt; Credentials</span>.</li>
<li>Click <span class="text-object">+ Create Credentials</span> and select <span class="text-object">Help me choose</span> from the options that appear.</li>
<li>Select the following:
<ul>
<li>Dropdown: <span class="text-object">Gmail API</span></li>
<li>Radio buttons: Select the radio button titled <span class="text-object">User data</span>.</li>
</ul>
</li>
<li>Click the <strong>NEXT</strong> button.</li>
<li>On the OAuth Consent Screen page, the following sections appear:
<ul>
<li><span class="text-section">App information</span></li>
<li><span class="text-section">Developer contact information</span></li>
</ul>
</li>
<li>Configure the following fields in the <span class="text-section">App information</span> section:</li>
<ul>
<li><span class="text-object">App name</span>: Give your application a name. This can be anything you like.</li>
<li><span class="text-object">User support email</span>: Choose any email you like. This is only used for this configuration process when setting up the consent screen.</li>
<li><span class="text-object">App logo</span>: You do not need to add the logo since this app will not require users to view a consent screen.</li>
</ul>
<li>Configure the following field in the <span class="text-section">Developer contact information</span> section:</li>
<ul>
<li><span class="text-object">Email addresses:</span> Enter your email address.</li>
</ul>
<li>Click the <strong>SAVE AND CONTINUE</strong> button.</li>
<li>On the Scopes setting page, click the <strong>SAVE AND CONTINUE</strong> button.
<div class="notebox-note">
<p>WP Mail SMTP configures this for you, so you can leave this section as-is.</p>
</div>
</li>
<li>On the OAuth Client ID page, fill out the fields on the next page as follows:<br />
<ul>
<li><strong>Application type</strong>: select <span class="text-object">Web application</span> from the dropdown.</li>
<li><strong>Name</strong>: Enter any name you like. This is only used within your Google account.</li>
<li><strong>Authorized JavaScript origins</strong>: Enter your website URL. For example,&nbsp;<strong>https://example.com</strong>.</li>
<li><strong>Authorized redirect URIs</strong>: Copy the URL from your WordPress dashboard. This can be found when <a href="https://help.dreamhost.com/hc/en-us/articles/360029770912" target="_self">configuring the SMTP plugin</a>.</li>
</ul>
</li>
<li>Click the <strong>Create</strong> button.</li>
<li>On the Your Credentials page, your <span class="text-object">Client ID is displayed</span>, click the <strong>DONE</strong> button.</li>
<li>From the left-hand menu, select <span class="text-section">OAuth consent screen</span>.</li>
<li>On the OAuth consent screen page, click the <strong>EDIT APP</strong> button next to your application's name.</li>
<li>The following sections appear:
<ul>
<li><span class="text-object">App information</span></li>
<li><span class="text-object">App domain</span></li>
<li><span class="text-object">Authorized domains</span></li>
<li><span class="text-object">Developer contact information</span></li>
</ul>
</li>
<li>Under the <span class="text-section">App domain</span> section, configure the following:
<ul>
<li><strong>Application home page</strong>: Add the full URL of your WordPress site into the Application home page field. For example, <strong>https://example.com</strong>.</li>
<li><strong>Application privacy policy link</strong>: You do not need a specific policy link since the consent screen will only be seen by you. Just enter your site. For example,&nbsp;&nbsp;<strong>https://example.com.</strong></li>
<li><strong>Application terms of service link</strong>: You do not need a specific terms of service link since the consent screen will only be seen by you. Just enter your site. For example, <strong>https://example.com.</strong></li>
</ul>
</li>
<li>The remaining sections will be already configured. Scroll down to the bottom of the page, and click the <strong>SAVE AND CONTINUE</strong> button to proceed.</li>
<li>From the left-hand menu, select <span class="text-section">OAuth consent screen</span>.</li>
<li>Under <span class="text-section">Publishing status</span>, click the <strong>PUBLISH APP</strong> button and confirm.</li>
</ol>
<h2><span id="connecting-to-oauth2">Connecting WP SMTP Mail to Google via OAuth2</span></h2>
<ol>
<li>From the left-hand menu, select <span class="text-section">Credentials</span>.</li>
<li>On the Credentials page, click the pencil icon to the right of your application to view your <span class="text-object">Client ID</span> and <span class="text-object">Client secret</span>.</li>
<li>On the next page, your new <span class="text-object">client ID</span> and <span class="text-object">client secret</span> are displayed, copy both of these values into your WP Mail SMTP plugin.</li>
<li>On the WP Mail SMTP settings page, paste in the <span class="text-object">Client ID</span> and <span class="text-object">Client Secret</span>.</li>
<li>Click <strong>Allow plugin to send emails using your Google account</strong>.</li>
<li>When the next page opens, choose the email address you wish to send your WordPress form FROM.
<div class="notebox-important">
<p><strong>IMPORTANT</strong>: The email address you use at this time to log in will be the email address your WordPress form sends FROM. This will override any email address you have configured in your WordPress SMTP form.</p>
<p>You should already be logged into the correct account, however, so you should not have to adjust this.</p>
</div>
</li>
<li>If youâ€™re using a free Gmail account, you may see the screen shown above. To bypass that message, click <span class="text-link">Advanced</span> on the bottom left corner.</li>
<li>On the bottom left corner, click the link that will appear <span class="text-link">Go to wpmailsmtp.com (unsafe)</span>.</li>
<li>On the next page, click <strong>Continue</strong>.</li>
<li>When you are returned to the WP Mail SMTP settings page, make any additional configuration selections and click <strong>Save Settings</strong>.</li>
<li>Click the <span class="text-object">Email Test</span> tab, then click <strong>Send Email</strong>.</li>
<li>A success message is displayed. Check your inbox to confirm the email arrived.</li>
</ol>
<h2>See also</h2>
<div class="solvvy-hidden">
<h3>Internal links</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/360029770912-Configuring-the-WP-Mail-SMTP-plugin-with-Gmail" target="_self">Configuring the 'WP Mail SMTP' plugin with Gmail</a></li>
</ul>
<h3>External links</h3>
<ul>
<li><a href="https://support.google.com/cloud/answer/6158849?hl=en" target="_self">Setting up OAuth 2.0</a> - Google Cloud Platform Console Help</li>
<li><a href="https://wpmailsmtp.com/docs/how-to-set-up-the-gmail-mailer-in-wp-mail-smtp/" target="_self">WP Mail SMTP Documentation</a> - WP Mail SMTP Documentation</li>
</ul>
</div>
</div>
