<p>This article explains how to add an SSH Key pair on an existing DreamCompute instance.</p>
<p>This article assumes the following:</p>
<ul>
<li>The current Key Pair is not working so you can't log in to <a href="https://help.dreamhost.com/hc/en-us/articles/216201547-Connect-to-your-instance-with-SSH-keys-overview">connect to your instance</a> </li>
<li>You have <a href="https://help.dreamhost.com/hc/en-us/articles/115002193552-Setting-a-password-for-the-default-user">created a password for the default user</a>, so you can log into the instance within the DreamCompute panel</li>
</ul>
<h2>Creating a new Key Pair on the server</h2>
<ol>
<li><a href="https://help.dreamhost.com/hc/en-us/articles/115002193552#Log_into_your_server_via_the_console">Log into the DreamCompute panel using the console</a>.</li>
<li>Once logged in, <a href="https://help.dreamhost.com/hc/en-us/articles/216499537-How-to-configure-passwordless-login-in-Mac-OS-X-and-Linux">create a new Key Pair</a> (Only follow step#1).</li>
<li>After the keys are created, you'll have a private key (id_rsa) and public key (id_rsa.pub). Run the following to append the public key to your authorized_keys file:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">ubuntu@server$ </span><span class="command">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span>
</pre>
</div>
</li>
<li>Use the <span class="code">cat</span> command to view the contents of the private key.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">ubuntu@server$ </span><span class="command">cat ~/.ssh/id_rsa</span></pre>
</div>
</li>
<li>Copy this content to your local computer into a file titled something like 'dhc-newkey'.
<div class="alert alert-note">
<div class="alert-icon"><img src="https://objects-us-west-1.dream.io/kbimages/images/dh-kb-note-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p><strong>Windows</strong> — Add it to a notepad file. You can then <a href="https://help.dreamhost.com/hc/en-us/articles/115001764232-Connect-to-your-instance-with-SSH-keys-in-Windows">use PuTTY to convert it into a .ppk file</a>.</p>
<p><strong>Mac or Linux</strong> — <a href="https://help.dreamhost.com/hc/en-us/articles/115006413028-Creating-and-editing-a-file-via-SSH">Use the terminal to create the file in the ~/.ssh/ directory.</a> Then update the permissions to 600:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">macbook$ </span><span class="command">chmod 600 ~/.ssh/dhc-newkey</span></pre>
</div>
</div>
</div>
</li>
<li>Using your <a href="https://help.dreamhost.com/hc/en-us/articles/228377408-How-to-find-the-default-user-of-an-image">default username</a> and <a href="https://help.dreamhost.com/hc/en-us/articles/115001754711-Locating-IP-Address-of-your-instance">instance IP address</a>, log into your server using the new key.
<ul>
<li><strong>Windows —</strong> <a href="https://help.dreamhost.com/hc/en-us/articles/115001764232-Connect-to-your-instance-with-SSH-keys-in-Windows">Use PuTTY</a></li>
<li><strong>Mac or Linux</strong> <strong>— </strong>Use the command below:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">macbook$ </span><span class="command">ssh -i ~/.ssh/dhc-newkey USER@IP_ADDRESS</span></pre>
</div>
</li>
</ul>
</li>
</ol>
